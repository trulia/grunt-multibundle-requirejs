var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===0||t===1&&e[2]===".."||e[t-1]==="..")continue;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v,g=t&&t.split("/"),y=o.map,b=y&&y["*"];e&&(e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e[0].charAt(0)==="."&&g&&(v=g.slice(0,g.length-1),e=v.concat(e)),m(e),e=e.join("/"));if(n&&y&&(g||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(g)for(a=g.length;a>0;a-=1){i=getOwn(y,g.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.makeRequire(null,{skipMap:!0})([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=e.indexOf("!")===-1?g(e,l,i):e:(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];typeof t=="string"&&(r.defQueueMap[t]=!0),l.push(e)}),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}r.defQueueMap={}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?c[e.map.id]=e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)hasProp(r.defQueueMap,n)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){try{s=r.execCb(n,o,i,s)}catch(u){e=u}this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e);typeof console!="undefined"&&console.error?console.error(e):req.onError(e)}}else s=o;this.exports=s;if(this.map.isDefine&&!this.ignore){c[n]=s;if(req.onResourceLoad){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(r,this.map,a)}}C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.map.normalizedMap=s,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){if(this.undefed)return;this.defineDep(t,e),this.check()})),this.errback?x(e,"error",bind(this,this.errback)):this.events.error&&x(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,defQueueMap:{},Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t,null,!0))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),i=getOwn(u,e);i.undefed=!0,y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),delete r.defQueueMap[e],i&&(i.events.defined&&(f[e]=i.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(o.shim,e)||{},a=s.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r.defQueueMap={},i=getOwn(u,e);if(!t&&!hasProp(c,e)&&i&&!i.inited){if(o.enforceDefine&&(!a||!getGlobal(a))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,s.deps||[],s.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id)){var n=[];return eachProp(u,function(e,r){r.indexOf("_@r")!==0&&each(e.depMaps,function(e){return e.id===t.id&&n.push(r),!0})}),T(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),r.onNodeCreated&&r.onNodeCreated(i,r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),i?(i.defQueue.push([e,t,n]),i.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requirejs",["requirejs/require"],function(e){return e}),define("requirejs/require",function(){}),function(){function In(e,t){return e.set(t[0],t[1]),e}function qn(e,t){return e.add(t),e}function Rn(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Un(e,t,n,r){var i=-1,s=e.length;while(++i<s){var o=e[i];t(r,o,n(o),e)}return r}function zn(e,t){var n=-1,r=e.length,i=-1,s=t.length,o=Array(r+s);while(++n<r)o[n]=e[n];while(++i<s)o[n++]=t[i];return o}function Wn(e,t){var n=-1,r=e.length;while(++n<r)if(t(e[n],n,e)===!1)break;return e}function Xn(e,t){var n=e.length;while(n--)if(t(e[n],n,e)===!1)break;return e}function Vn(e,t){var n=-1,r=e.length;while(++n<r)if(!t(e[n],n,e))return!1;return!0}function $n(e,t){var n=-1,r=e.length,i=-1,s=[];while(++n<r){var o=e[n];t(o,n,e)&&(s[++i]=o)}return s}function Jn(e,t){return!!e.length&&ir(e,t,0)>-1}function Kn(e,t,n){var r=-1,i=e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}function Qn(e,t){var n=-1,r=e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function Gn(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Yn(e,t,n,r){var i=-1,s=e.length;r&&s&&(n=e[++i]);while(++i<s)n=t(n,e[i],i,e);return n}function Zn(e,t,n,r){var i=e.length;r&&i&&(n=e[--i]);while(i--)n=t(n,e[i],i,e);return n}function er(e,t){var n=-1,r=e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}function tr(t,n,r){var i=-1,s=t.length;while(++i<s){var o=t[i],u=n(o);if(u!=null&&(a===e?u===u:r(u,a)))var a=u,f=o}return f}function nr(e,t,n,r){var i;return n(e,function(e,n,s){if(t(e,n,s))return i=r?n:e,!1}),i}function rr(e,t,n){var r=e.length,i=n?r:-1;while(n?i--:++i<r)if(t(e[i],i,e))return i;return-1}function ir(e,t,n){if(t!==t)return wr(e,n);var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function sr(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}function or(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}function ur(t,n){var r,i=-1,s=t.length;while(++i<s){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function ar(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function fr(e,t){return Qn(t,function(t){return[t,e[t]]})}function lr(e){return function(t){return e(t)}}function cr(e,t){return Qn(t,function(t){return e[t]})}function hr(e,t){var n=-1,r=e.length;while(++n<r&&ir(t,e[n],0)>-1);return n}function pr(e,t){var n=e.length;while(n--&&ir(t,e[n],0)>-1);return n}function dr(e){return e&&e.Object===Object?e:null}function vr(t,n){if(t!==n){var r=t===null,i=t===e,s=t===t,o=n===null,u=n===e,a=n===n;if(t>n&&!o||!s||r&&!u&&a||i&&a)return 1;if(t<n&&!r||!a||o&&!i&&s||u&&s)return-1}return 0}function mr(e,t,n){var r=-1,i=e.criteria,s=t.criteria,o=i.length,u=n.length;while(++r<o){var a=vr(i[r],s[r]);if(a){if(r>=u)return a;var f=n[r];return a*(f=="desc"?-1:1)}}return e.index-t.index}function gr(e){return Tn[e]}function yr(e){return Nn[e]}function br(e){return"\\"+Ln[e]}function wr(e,t,n){var r=e.length,i=t+(n?0:-1);while(n?i--:++i<r){var s=e[i];if(s!==s)return i}return-1}function Er(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function Sr(e,t){return e=typeof e=="number"||At.test(e)?+e:-1,t=t==null?N:t,e>-1&&e%1==0&&e<t}function xr(e){var t,n=[];while(!(t=e.next()).done)n.push(t.value);return n}function Tr(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Nr(e,t){var n=-1,r=e.length,i=-1,s=[];while(++n<r)e[n]===t&&(e[n]=M,s[++i]=n);return s}function Cr(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function kr(e){if(!e||!mn.test(e))return e.length;var t=vn.lastIndex=0;while(vn.test(e))t++;return t}function Lr(e){return e.match(vn)}function Ar(e){return Cn[e]}function Or(V){function Bn(e){if(df(e)&&!Ya(e)&&!(e instanceof _r)){if(e instanceof dr)return e;if(qt.call(e,"__wrapped__"))return Oo(e)}return new dr(e)}function jn(){}function dr(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function _r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function Dr(){var e=new _r(this.__wrapped__);return e.__actions__=Ls(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ls(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ls(this.__views__),e}function Pr(){if(this.__filtered__){var e=new _r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Hr(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),r=t<0,i=n?e.length:0,s=fo(0,i,this.__views__),o=s.start,u=s.end,a=u-o,f=r?u:o-1,l=this.__iteratees__,c=l.length,h=0,p=ln(a,this.__takeCount__);if(!n||i<y||i==a&&p==a)return gs(e,this.__actions__);var d=[];e:while(a--&&h<p){f+=t;var v=-1,m=e[f];while(++v<c){var g=l[v],E=g.iteratee,S=g.type,x=E(m);if(S==w)m=x;else if(!x){if(S==b)continue e;break e}}d[h++]=m}return d}function Br(){}function jr(e,t){return Ir(e,t)&&delete e[t]}function Fr(t,n){if(Cn){var r=t[n];return r===x?e:r}return qt.call(t,n)?t[n]:e}function Ir(t,n){return Cn?t[n]!==e:qt.call(t,n)}function qr(t,n,r){t[n]=Cn&&r===e?x:r}function Rr(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ur(){this.__data__={hash:new Br,map:vn?new vn:[],string:new Br}}function zr(e){var t=this.__data__;return yo(e)?jr(typeof e=="string"?t.string:t.hash,e):vn?t.map["delete"](e):ni(t.map,e)}function Wr(e){var t=this.__data__;return yo(e)?Fr(typeof e=="string"?t.string:t.hash,e):vn?t.map.get(e):ri(t.map,e)}function Xr(e){var t=this.__data__;return yo(e)?Ir(typeof e=="string"?t.string:t.hash,e):vn?t.map.has(e):ii(t.map,e)}function Vr(e,t){var n=this.__data__;return yo(e)?qr(typeof e=="string"?n.string:n.hash,e,t):vn?n.map.set(e,t):oi(n.map,e,t),this}function $r(e){var t=-1,n=e?e.length:0;this.__data__=new Rr;while(++t<n)this.push(e[t])}function Jr(e,t){var n=e.__data__;if(yo(t)){var r=n.__data__,i=typeof t=="string"?r.string:r.hash;return i[t]===x}return n.has(t)}function Kr(e){var t=this.__data__;if(yo(e)){var n=t.__data__,r=typeof e=="string"?n.string:n.hash;r[e]=x}else t.set(e,x)}function Qr(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Gr(){this.__data__={array:[],map:null}}function Yr(e){var t=this.__data__,n=t.array;return n?ni(n,e):t.map["delete"](e)}function Zr(e){var t=this.__data__,n=t.array;return n?ri(n,e):t.map.get(e)}function ei(e){var t=this.__data__,n=t.array;return n?ii(n,e):t.map.has(e)}function ti(e,t){var n=this.__data__,r=n.array;r&&(r.length<y-1?oi(r,e,t):(n.array=null,n.map=new Rr(r)));var i=n.map;return i&&i.set(e,t),this}function ni(e,t){var n=si(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nn.call(e,n,1),!0}function ri(t,n){var r=si(t,n);return r<0?e:t[r][1]}function ii(e,t){return si(e,t)>-1}function si(e,t){var n=e.length;while(n--)if(Ja(e[n][0],t))return n;return-1}function oi(e,t,n){var r=si(e,t);r<0?e.push([t,n]):e[r][1]=n}function ui(t,n,r,i){return t===e||Ja(t,Ft[r])&&!qt.call(i,r)?n:t}function ai(t,n,r){if(r!==e&&!Ja(t[n],r)||typeof n=="number"&&r===e&&!(n in t))t[n]=r}function fi(t,n,r){var i=t[n];if(!Ja(i,r)||Ja(i,Ft[n])&&!qt.call(t,n)||r===e&&!(n in t))t[n]=r}function li(e,t,n,r){return bi(e,function(e,i,s){t(r,e,n(e),s)}),r}function ci(e,t){return e&&As(t,ol(t),e)}function hi(t,n){var r=-1,i=t==null,s=n.length,o=Array(s);while(++r<s)o[r]=i?e:el(t,n[r]);return o}function pi(t,n,r){return t===t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function di(t,n,r,i,s,o){var u;r&&(u=s?r(t,i,s,o):r(t));if(u!==e)return u;if(!pf(t))return t;var a=Ya(t);if(a){u=co(t);if(!n)return Ls(t,u)}else{var f=ao(t),l=f==j||f==F;if(!(f==R||f==_||l&&!s))return xn[f]?po(t,f,n):s?t:{};if(Er(t))return s?t:{};u=ho(l?{}:t);if(!n)return Ms(t,ci(u,t))}o||(o=new Qr);var c=o.get(t);return c?c:(o.set(t,u),(a?Wn:Li)(t,function(e,i){fi(u,i,di(e,n,r,i,t,o))}),a?u:Ms(t,u))}function vi(t){var n=ol(t),r=n.length;return function(i){if(i==null)return!r;var s=r;while(s--){var o=n[s],u=t[o],a=i[o];if(a===e&&!(o in Object(i))||!u(a))return!1}return!0}}function gi(t,n,r){if(typeof t!="function")throw new Bt(S);return tn(function(){t.apply(e,r)},n)}function yi(e,t,n,r){var i=-1,s=Jn,o=!0,u=e.length,a=[],f=t.length;if(!u)return a;n&&(t=Qn(t,lr(n))),r?(s=Kn,o=!1):t.length>=y&&(s=Jr,o=!1,t=new $r(t));e:while(++i<u){var l=e[i],c=n?n(l):l;if(o&&c===c){var h=f;while(h--)if(t[h]===c)continue e;a.push(l)}else s(t,c,r)||a.push(l)}return a}function Ei(e,t){var n=!0;return bi(e,function(e,r,i){return n=!!t(e,r,i),n}),n}function Si(t,n,r,i){var s=t.length;r=_f(r),r<0&&(r=-r>s?0:s+r),i=i===e||i>s?s:_f(i),i<0&&(i+=s),i=r>i?0:Df(i);while(r<i)t[r++]=n;return t}function xi(e,t){var n=[];return bi(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Ti(e,t,n,r){r||(r=[]);var i=-1,s=e.length;while(++i<s){var o=e[i];ef(o)&&(n||Ya(o)||Ga(o))?t?Ti(o,t,n,r):Gn(r,o):n||(r[r.length]=o)}return r}function ki(e,t){return e==null?e:Ni(e,t,ul)}function Li(e,t){return e&&Ni(e,t,ol)}function Ai(e,t){return e&&Ci(e,t,ol)}function Oi(e,t){return $n(t,function(t){return lf(e[t])})}function Mi(t,n){n=go(n,t)?[n+""]:ps(n);var r=0,i=n.length;while(t!=null&&r<i)t=t[n[r++]];return r&&r==i?t:e}function _i(e,t){return qt.call(e,t)||typeof e=="object"&&t in e&&Gt(e)===null}function Di(e,t){return t in Object(e)}function Pi(e,t,n){return e>=ln(t,n)&&e<fn(t,n)}function Hi(t,n,r){var i=r?Kn:Jn,s=t.length,o=s,u=Array(s),a=[];while(o--){var f=t[o];o&&n&&(f=Qn(f,lr(n))),u[o]=!r&&(n||f.length>=120)?new $r(o&&f):e}f=t[0];var l=-1,c=f.length,h=u[0];e:while(++l<c){var p=f[l],d=n?n(p):p;if(h?!Jr(h,d):!i(a,d,r)){var o=s;while(--o){var v=u[o];if(v?!Jr(v,d):!i(t[o],d,r))continue e}h&&h.push(d),a.push(p)}}return a}function Bi(e,t,n,r){return Li(e,function(e,i,s){t(r,n(e),i,s)}),r}function ji(t,n,r){go(n,t)||(n=ps(n),t=To(t,n),n=eu(n));var i=t==null?t:t[n];return i==null?e:Rn(i,t,r)}function Fi(e,t,n,r,i){return e===t?!0:e==null||t==null||!pf(e)&&!df(t)?e!==e&&t!==t:Ii(e,t,Fi,n,r,i)}function Ii(e,t,n,r,i,s){var o=Ya(e),u=Ya(t),a=D,f=D;o||(a=ao(e),a==_?a=R:a!=R&&(o=kf(e))),u||(f=ao(t),f==_?f=R:f!=R&&(u=kf(t)));var l=a==R&&!Er(e),c=f==R&&!Er(t),h=a==f;if(h&&!o&&!l)return Zs(e,t,a,n,r,i);var d=i&p;if(!d){var v=l&&qt.call(e,"__wrapped__"),m=c&&qt.call(t,"__wrapped__");if(v||m)return n(v?e.value():e,m?t.value():t,r,i,s)}return h?(s||(s=new Qr),(o?Ys:eo)(e,t,n,r,i,s)):!1}function qi(t,n,r,i){var s=r.length,o=s,u=!i;if(t==null)return!o;t=Object(t);while(s--){var a=r[s];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}while(++s<o){a=r[s];var f=a[0],l=t[f],c=a[1];if(u&&a[2]){if(l===e&&!(f in t))return!1}else{var d=new Qr,v=i?i(l,c,f,t,n,d):e;if(v===e?!Fi(c,l,i,h|p,d):!v)return!1}}return!0}function Ri(e){var t=typeof e;return t=="function"?e:e==null?cc:t=="object"?Ya(e)?Vi(e[0],e[1]):Xi(e):Tc(e)}function Ui(e){return an(Object(e))}function zi(e){e=e==null?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Wi(e,t){var n=-1,r=Za(e)?Array(e.length):[];return bi(e,function(e,i,s){r[++n]=t(e,i,s)}),r}function Xi(t){var n=so(t);if(n.length==1&&n[0][2]){var r=n[0][0],i=n[0][1];return function(t){return t==null?!1:t[r]===i&&(i!==e||r in Object(t))}}return function(e){return e===t||qi(e,t,n)}}function Vi(t,n){return function(r){var i=el(r,t);return i===e&&i===n?nl(r,t):Fi(n,i,e,h|p)}}function $i(t,n,r,i,s){if(t===n)return;var o=Ya(n)||kf(n)?e:ul(n);Wn(o||n,function(u,a){o&&(a=u,u=n[a]);if(pf(u))s||(s=new Qr),Ji(t,n,a,r,$i,i,s);else{var f=i?i(t[a],u,a+"",t,n,s):e;f===e&&(f=u),ai(t,a,f)}})}function Ji(t,n,r,i,s,o,u){var a=t[r],f=n[r],l=u.get(f);if(l){ai(t,r,l);return}var c=o?o(a,f,r+"",t,n,u):e,h=c===e;h&&(c=f,Ya(f)||kf(f)?Ya(a)?c=i?Ls(a):a:ef(a)?c=Ls(a):(h=!1,c=di(f)):Sf(f)||Ga(f)?Ga(a)?c=Hf(a):!pf(a)||i&&lf(a)?(h=!1,c=di(f)):c=i?di(a):a:h=!1),u.set(f,c),h&&s(c,f,i,o,u),ai(t,r,c)}function Ki(e,t,n){var r=-1,i=ro();t=Qn(t.length?t:Array(1),function(e){return i(e)});var s=Wi(e,function(e,n,i){var s=Qn(t,function(t){return t(e)});return{criteria:s,index:++r,value:e}});return or(s,function(e,t){return mr(e,t,n)})}function Qi(e,t){return e=Object(e),Yn(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Gi(e,t){var n={};return ki(e,function(e,r){t(e,r)&&(n[r]=e)}),n}function Yi(t){return function(n){return n==null?e:n[t]}}function Zi(e){return function(t){return Mi(t,e)}}function es(e,t){return ts(e,t)}function ts(e,t,n){var r=-1,i=t.length,s=e;n&&(s=Qn(e,function(e){return n(e)}));while(++r<i){var o=0,u=t[r],a=n?n(u):u;while((o=ir(s,a,o))>-1)s!==e&&nn.call(s,o,1),nn.call(e,o,1)}return e}function ns(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(r==n||i!=s){var s=i;if(Sr(i))nn.call(e,i,1);else if(!go(i,e)){var o=ps(i),u=To(e,o);u!=null&&delete u[eu(o)]}else delete e[i]}}return e}function rs(e,t){return e+sn(hn()*(t-e+1))}function is(e,t,n,r){var i=-1,s=fn(rn((t-e)/(n||1)),0),o=Array(s);while(s--)o[r?s:++i]=e,e+=n;return o}function ss(t,n,r,i){n=go(n,t)?[n+""]:ps(n);var s=-1,o=n.length,u=o-1,a=t;while(a!=null&&++s<o){var f=n[s];if(pf(a)){var l=r;if(s!=u){var c=a[f];l=i?i(c,f,a):e,l===e&&(l=c==null?Sr(n[s+1])?[]:{}:c)}fi(a,f,l)}a=a[f]}return t}function us(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var s=Array(i);while(++r<i)s[r]=e[r+t];return s}function as(e,t){var n;return bi(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function fs(e,t,n){var r=0,i=e?e.length:r;if(typeof t=="number"&&t===t&&i<=O){while(r<i){var s=r+i>>>1,o=e[s];(n?o<=t:o<t)&&o!==null?r=s+1:i=s}return i}return ls(e,t,cc,n)}function ls(t,n,r,i){n=r(n);var s=0,o=t?t.length:0,u=n!==n,a=n===null,f=n===e;while(s<o){var l=sn((s+o)/2),c=r(t[l]),h=c!==e,p=c===c;if(u)var d=p||i;else a?d=p&&h&&(i||c!=null):f?d=p&&(i||h):c==null?d=!1:d=i?c<=n:c<n;d?s=l+1:o=l}return ln(o,A)}function cs(e){return hs(e)}function hs(e,t){var n=0,r=e.length,i=e[0],s=t?t(i):i,o=s,u=0,a=[i];while(++n<r)i=e[n],s=t?t(i):i,Ja(s,o)||(o=s,a[++u]=i);return a}function ps(e){return Ya(e)?e:ko(e)}function ds(e,t,n){var r=-1,i=Jn,s=e.length,o=!0,u=[],a=u;if(n)o=!1,i=Kn;else if(s>=y){var f=t?null:Qs(e);if(f)return Cr(f);o=!1,i=Jr,a=new $r}else a=t?[]:u;e:while(++r<s){var l=e[r],c=t?t(l):l;if(o&&c===c){var h=a.length;while(h--)if(a[h]===c)continue e;t&&a.push(c),u.push(l)}else i(a,c,n)||(a!==u&&a.push(c),u.push(l))}return u}function vs(e,t){t=go(t,e)?[t+""]:ps(t),e=To(e,t);var n=eu(t);return e!=null&&tl(e,n)?delete e[n]:!0}function ms(e,t,n,r){var i=e.length,s=r?i:-1;while((r?s--:++s<i)&&t(e[s],s,e));return n?us(e,r?0:s,r?s+1:i):us(e,r?s+1:0,r?i:s)}function gs(e,t){var n=e;return n instanceof _r&&(n=n.value()),Yn(t,function(e,t){return t.func.apply(t.thisArg,Gn([e],t.args))},n)}function ys(e,t,n){var r=-1,i=e.length;while(++r<i)var s=s?Gn(yi(s,e[r],t,n),yi(e[r],s,t,n)):e[r];return s&&s.length?ds(s,t,n):[]}function bs(t,n,r){var i=-1,s=t.length,o=n.length,u={};while(++i<s)r(u,t[i],i<o?n[i]:e);return u}function ws(e){var t=e.constructor,n=new t(e.byteLength),r=new Jt(n);return r.set(new Jt(e)),n}function Es(e){var t=e.constructor;return Yn(Tr(e),In,new t)}function Ss(e){var t=e.constructor,n=new t(e.source,xt.exec(e));return n.lastIndex=e.lastIndex,n}function xs(e){var t=e.constructor;return Yn(Cr(e),qn,new t)}function Ts(e){return $t?Object(Dn.call(e)):{}}function Ns(e,t){var n=e.buffer,r=e.constructor;return new r(t?ws(n):n,e.byteOffset,e.length)}function Cs(e,t,n){var r=n.length,i=-1,s=fn(e.length-r,0),o=-1,u=t.length,a=Array(u+s);while(++o<u)a[o]=t[o];while(++i<r)a[n[i]]=e[i];while(s--)a[o++]=e[i++];return a}function ks(e,t,n){var r=-1,i=n.length,s=-1,o=fn(e.length-i,0),u=-1,a=t.length,f=Array(o+a);while(++s<o)f[s]=e[s];var l=s;while(++u<a)f[l+u]=t[u];while(++r<i)f[l+n[r]]=e[s++];return f}function Ls(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function As(e,t,n){return Os(e,t,n)}function Os(e,t,n,r){n||(n={});var i=-1,s=t.length;while(++i<s){var o=t[i],u=r?r(n[o],e[o],o,n,e):e[o];fi(n,o,u)}return n}function Ms(e,t){return As(e,uo(e),t)}function _s(e,t){return function(n,r){var i=Ya(n)?Un:li,s=t?t():{};return i(n,e,ro(r),s)}}function Ds(t){return Ia(function(n,r){var i=-1,s=r.length,o=s>1?r[s-1]:e,u=s>2?r[2]:e;o=typeof o=="function"?(s--,o):e,u&&mo(r[0],r[1],u)&&(o=s<3?e:o,s=1),n=Object(n);while(++i<s){var a=r[i];a&&t(n,a,i,o)}return n})}function Ps(e,t){return function(n,r){if(n==null)return n;if(!Za(n))return e(n,r);var i=n.length,s=t?i:-1,o=Object(n);while(t?s--:++s<i)if(r(o[s],s,o)===!1)break;return n}}function Hs(e){return function(t,n,r){var i=-1,s=Object(t),o=r(t),u=o.length;while(u--){var a=o[e?u:++i];if(n(s[a],a,s)===!1)break}return t}}function Bs(e,t,r){function o(){var t=this&&this!==Fn&&this instanceof o?s:e;return t.apply(i?r:this,arguments)}var i=t&n,s=Is(e);return o}function js(t){return function(n){n=jf(n);var r=mn.test(n)?Lr(n):e,i=r?r[0]:n.charAt(0),s=r?r.slice(1).join(""):n.slice(1);return i[t]()+s}}function Fs(e){return function(t){return Yn(rc(Ol(t)),e,"")}}function Is(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mi(e.prototype),r=e.apply(n,t);return pf(r)?r:n}}function qs(t,n,r){function s(){var o=arguments.length,u=o,a=Array(o),f=this&&this!==Fn&&this instanceof s?i:t,l=s.placeholder;while(u--)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:Nr(a,l);return o-=c.length,o<r?Js(t,n,Us,l,e,a,c,e,e,r-o):Rn(f,this,a)}var i=Is(t);return s}function Rs(t){return Ia(function(n){n=Ti(n);var r=n.length,i=r,o=dr.prototype.thru;t&&n.reverse();while(i--){var a=n[i];if(typeof a!="function")throw new Bt(S);if(o&&!c&&no(a)=="wrapper")var c=new dr([],!0)}i=c?i:r;while(++i<r){a=n[i];var h=no(a),p=h=="wrapper"?to(a):e;p&&bo(p[0])&&p[1]==(f|s|u|l)&&!p[4].length&&p[9]==1?c=c[no(p[0])].apply(c,p[3]):c=a.length==1&&bo(a)?c[h]():c.thru(a)}return function(){var e=arguments,t=e[0];if(c&&e.length==1&&Ya(t)&&t.length>=y)return c.plant(t).value();var i=0,s=r?n[i].apply(this,e):t;while(++i<r)s=n[i].call(this,s);return s}})}function Us(t,i,u,a,l,h,p,d,v,m){function T(){var e=arguments.length,n=e,r=Array(e);while(n--)r[n]=arguments[n];a&&(r=Cs(r,a,l)),h&&(r=ks(r,h,p));if(w||E){var s=T.placeholder,o=Nr(r,s);e-=o.length;if(e<m)return Js(t,i,Us,s,u,r,o,d,v,m-e)}var f=y?u:this,c=b?f[t]:t;return d?r=No(r,d):S&&r.length>1&&r.reverse(),g&&v<r.length&&(r.length=v),this&&this!==Fn&&this instanceof T&&(c=x||Is(c)),c.apply(f,r)}var g=i&f,y=i&n,b=i&r,w=i&s,E=i&o,S=i&c,x=b?e:Is(t);return T}function zs(e,t){return function(n,r){return Bi(n,e,t(r),{})}}function Ws(e){return Ia(function(t){return t=Qn(Ti(t),ro()),Ia(function(n){var r=this;return e(t,function(e){return Rn(e,r,n)})})})}function Xs(t,n,r){n=_f(n);var i=kr(t);if(!n||i>=n)return"";var s=n-i;r=r===e?" ":r+"";var o=Ul(r,rn(s/kr(r)));return mn.test(r)?Lr(o).slice(0,s).join(""):o.slice(0,s)}function Vs(e,t,r,i){function u(){var t=-1,n=arguments.length,a=-1,f=i.length,l=Array(f+n),c=this&&this!==Fn&&this instanceof u?o:e;while(++a<f)l[a]=i[a];while(n--)l[a++]=arguments[++t];return Rn(c,s?r:this,l)}var s=t&n,o=Is(e);return u}function $s(t){return function(n,r,i){return i&&typeof i!="number"&&mo(n,r,i)&&(r=i=e),n=Pf(n),n=n===n?n:0,r===e?(r=n,n=0):r=Pf(r)||0,i=i===e?n<r?1:-1:Pf(i)||0,is(n,r,i,t)}}function Js(t,o,f,l,c,h,p,d,v,m){var g=o&s,y=d?Ls(d):e,b=g?p:e,w=g?e:p,E=g?h:e,S=g?e:h;o|=g?u:a,o&=~(g?a:u),o&i||(o&=~(n|r));var x=[t,o,c,E,b,S,w,y,v,m],T=f.apply(e,x);return bo(t)&&Co(T,x),T.placeholder=l,T}function Ks(e){var t=Pt[e];return function(e,n){e=Pf(e),n=_f(n);if(n){var r=(jf(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(jf(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Gs(t,i,f,l,c,h,p,d){var v=i&r;if(!v&&typeof t!="function")throw new Bt(S);var m=l?l.length:0;m||(i&=~(u|a),l=c=e),p=p===e?p:fn(_f(p),0),d=d===e?d:_f(d),m-=c?c.length:0;if(i&a){var g=l,y=c;l=c=e}var b=v?e:to(t),w=[t,i,f,l,c,g,y,h,p,d];b&&So(w,b),t=w[0],i=w[1],f=w[2],l=w[3],c=w[4],d=w[9]=w[9]==null?v?0:t.length:fn(w[9]-m,0),!d&&i&(s|o)&&(i&=~(s|o));if(!i||i==n)var E=Bs(t,i,f);else i==s||i==o?E=qs(t,i,d):i!=u&&i!=(n|u)||!!c.length?E=Us.apply(e,w):E=Vs(t,i,f,l);var x=b?os:Co;return x(E,w)}function Ys(t,n,r,i,s,o){var u=-1,a=s&p,f=s&h,l=t.length,c=n.length;if(l!=c&&!(a&&c>l))return!1;var d=o.get(t);if(d)return d==n;var v=!0;o.set(t,n);while(++u<l){var m=t[u],g=n[u];if(i)var y=a?i(g,m,u,n,t,o):i(m,g,u,t,n,o);if(y!==e){if(y)continue;v=!1;break}if(f){if(!er(n,function(e){return m===e||r(m,e,i,s,o)})){v=!1;break}}else if(m!==g&&!r(m,g,i,s,o)){v=!1;break}}return o["delete"](t),v}function Zs(e,t,n,r,i,s){switch(n){case $:if(e.byteLength!=t.byteLength||!r(new Jt(e),new Jt(t)))return!1;return!0;case P:case H:return+e==+t;case B:return e.name==t.name&&e.message==t.message;case q:return e!=+e?t!=+t:e==+t;case U:case W:return e==t+"";case I:var o=Tr;case z:var u=s&p;return o||(o=Cr),(u||e.size==t.size)&&r(o(e),o(t),i,s|h);case X:return!!$t&&Dn.call(e)==Dn.call(t)}return!1}function eo(t,n,r,i,s,o){var u=s&p,a=ol(t),f=a.length,l=ol(n),c=l.length;if(f!=c&&!u)return!1;var h=f;while(h--){var d=a[h];if(!(u?d in n:_i(n,d)))return!1}var v=o.get(t);if(v)return v==n;var m=!0;o.set(t,n);var g=u;while(++h<f){d=a[h];var y=t[d],b=n[d];if(i)var w=u?i(b,y,d,n,t,o):i(y,b,d,t,n,o);if(w===e?y!==b&&!r(y,b,i,s,o):!w){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var E=t.constructor,S=n.constructor;E!=S&&"constructor"in t&&"constructor"in n&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(m=!1)}return o["delete"](t),m}function no(e){var t=e.name+"",n=Hn[t],r=qt.call(Hn,t)?n.length:0;while(r--){var i=n[r],s=i.func;if(s==null||s==e)return i.name}return t}function ro(){var e=Bn.iteratee||hc;return e=e===hc?Ri:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e){var t=bl(e),n=t.length;while(n--)t[n][2]=Eo(t[n][1]);return t}function oo(t,n){var r=t==null?e:t[n];return yf(r)?r:e}function ao(e){return zt.call(e)}function fo(e,t,n){var r=-1,i=n.length;while(++r<i){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ln(t,e+o);break;case"takeRight":e=fn(e,t-o)}}return{start:e,end:t}}function lo(t,n,r){if(t==null)return!1;var i=r(t,n);!i&&!go(n)&&(n=ps(n),t=To(t,n),t!=null&&(n=eu(n),i=r(t,n)));var s=t?t.length:e;return i||!!s&&hf(s)&&Sr(n,s)&&(Ya(t)||Nf(t)||Ga(t))}function co(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&qt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ho(t){if(wo(t))return{};var n=t.constructor;return mi(lf(n)?n.prototype:e)}function po(e,t,n){var r=e.constructor;switch(t){case $:return ws(e);case P:case H:return new r(+e);case J:case K:case Q:case G:case Y:case Z:case et:case tt:case nt:return Ns(e,n);case I:return Es(e);case q:case W:return new r(e);case U:return Ss(e);case z:return xs(e);case X:return Ts(e)}}function vo(t){var n=t?t.length:e;return hf(n)&&(Ya(t)||Nf(t)||Ga(t))?ar(n,String):null}function mo(e,t,n){if(!pf(n))return!1;var r=typeof t;return(r=="number"?Za(n)&&Sr(t,n.length):r=="string"&&t in n)?Ja(n[t],e):!1}function go(e,t){return typeof e=="number"?!0:!Ya(e)&&(dt.test(e)||!pt.test(e)||t!=null&&e in Object(t))}function yo(e){var t=typeof e;return t=="number"||t=="boolean"||t=="string"&&e!=="__proto__"||e==null}function bo(e){var t=no(e),n=Bn[t];if(typeof n=="function"&&t in _r.prototype){if(e===n)return!0;var r=to(n);return!!r&&e===r[0]}return!1}function wo(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ft;return e===n}function Eo(e){return e===e&&!pf(e)}function So(e,t){var o=e[1],u=t[1],a=o|u,c=a<(n|r|f),h=u==f&&o==s||u==f&&o==l&&e[7].length<=t[8]||u==(f|l)&&t[7].length<=t[8]&&o==s;if(!c&&!h)return e;u&n&&(e[2]=t[2],a|=o&n?0:i);var p=t[3];if(p){var d=e[3];e[3]=d?Cs(d,p,t[4]):Ls(p),e[4]=d?Nr(e[3],M):Ls(t[4])}return p=t[5],p&&(d=e[5],e[5]=d?ks(d,p,t[6]):Ls(p),e[6]=d?Nr(e[5],M):Ls(t[6])),p=t[7],p&&(e[7]=Ls(p)),u&f&&(e[8]=e[8]==null?t[8]:ln(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function xo(t,n,r,i,s,o){return pf(t)&&pf(n)&&(o.set(n,t),$i(t,n,e,xo,o)),t}function To(e,t){return t.length==1?e:el(e,us(t,0,-1))}function No(t,n){var r=t.length,i=ln(n.length,r),s=Ls(t);while(i--){var o=n[i];t[i]=Sr(o,r)?s[o]:e}return t}function ko(e){var t=[];return jf(e).replace(vt,function(e,n,r,i){t.push(r?i.replace(Et,"$1"):n||e)}),t}function Lo(e){return ef(e)?e:[]}function Ao(e){return typeof e=="function"?e:cc}function Oo(e){if(e instanceof _r)return e.clone();var t=new dr(e.__wrapped__,e.__chain__);return t.__actions__=Ls(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Mo(e,t){t=fn(_f(t),0);var n=e?e.length:0;if(!n||t<1)return[];var r=0,i=-1,s=Array(rn(n/t));while(r<n)s[++i]=us(e,r,r+=t);return s}function _o(e){var t=-1,n=e?e.length:0,r=-1,i=[];while(++t<n){var s=e[t];s&&(i[++r]=s)}return i}function jo(t,n,r){var i=t?t.length:0;return i?(n=r||n===e?1:_f(n),us(t,n<0?0:n,i)):[]}function Fo(t,n,r){var i=t?t.length:0;return i?(n=r||n===e?1:_f(n),n=i-n,us(t,0,n<0?0:n)):[]}function Io(e,t){return e&&e.length?ms(e,ro(t,3),!0,!0):[]}function qo(e,t){return e&&e.length?ms(e,ro(t,3),!0):[]}function Ro(e,t,n,r){var i=e?e.length:0;return i?(n&&typeof n!="number"&&mo(e,t,n)&&(n=0,r=i),Si(e,t,n,r)):[]}function Uo(e,t){return e&&e.length?rr(e,ro(t,3)):-1}function zo(e,t){return e&&e.length?rr(e,ro(t,3),!0):-1}function Wo(e){var t=e?e.length:0;return t?Ti(e):[]}function Xo(e){var t=e?e.length:0;return t?Ti(e,!0):[]}function Vo(e){var t=-1,n=e?e.length:0,r={};while(++t<n){var i=e[t];r[i[0]]=i[1]}return r}function $o(t){return t?t[0]:e}function Jo(e,t,n){var r=e?e.length:0;return r?(n=_f(n),n<0&&(n=fn(r+n,0)),ir(e,t,n)):-1}function Ko(e){return Fo(e,1)}function Zo(e,t){return e?un.call(e,t):""}function eu(t){var n=t?t.length:0;return n?t[n-1]:e}function tu(t,n,r){var i=t?t.length:0;if(!i)return-1;var s=i;r!==e&&(s=_f(r),s=(s<0?fn(i+s,0):ln(s,i-1))+1);if(n!==n)return wr(t,s,!0);while(s--)if(t[s]===n)return s;return-1}function ru(e,t){return e&&e.length&&t&&t.length?es(e,t):e}function iu(e,t,n){return e&&e.length&&t&&t.length?ts(e,t,ro(n)):e}function ou(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;t=ro(t,3);while(++r<s){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return ns(e,i),n}function uu(e){return e?pn.call(e):e}function au(t,n,r){var i=t?t.length:0;return i?(r&&typeof r!="number"&&mo(t,n,r)?(n=0,r=i):(n=n==null?0:_f(n),r=r===e?i:_f(r)),us(t,n,r)):[]}function fu(e,t){return fs(e,t)}function lu(e,t,n){return ls(e,t,ro(n))}function cu(e,t){var n=e?e.length:0;if(n){var r=fs(e,t);if(r<n&&Ja(e[r],t))return r}return-1}function hu(e,t){return fs(e,t,!0)}function pu(e,t,n){return ls(e,t,ro(n),!0)}function du(e,t){var n=e?e.length:0;if(n){var r=fs(e,t,!0)-1;if(Ja(e[r],t))return r}return-1}function vu(e){return e&&e.length?cs(e):[]}function mu(e,t){return e&&e.length?hs(e,ro(t)):[]}function gu(e){return jo(e,1)}function yu(t,n,r){return!t||!t.length?[]:(n=r||n===e?1:_f(n),us(t,0,n<0?0:n))}function bu(t,n,r){var i=t?t.length:0;return i?(n=r||n===e?1:_f(n),n=i-n,us(t,n<0?0:n,i)):[]}function wu(e,t){return e&&e.length?ms(e,ro(t,3),!1,!0):[]}function Eu(e,t){return e&&e.length?ms(e,ro(t,3)):[]}function Nu(e){return e&&e.length?ds(e):[]}function Cu(e,t){return e&&e.length?ds(e,ro(t)):[]}function ku(t,n){return t&&t.length?ds(t,e,n):[]}function Lu(e){if(!e||!e.length)return[];var t=0;return e=$n(e,function(e){if(ef(e))return t=fn(e.length,t),!0}),ar(t,function(t){return Qn(e,Yi(t))})}function Au(t,n){if(!t||!t.length)return[];var r=Lu(t);return n==null?r:Qn(r,function(t){return Rn(n,e,t)})}function Hu(e,t){return bs(e||[],t||[],fi)}function Bu(e,t){return bs(e||[],t||[],ss)}function Fu(e){var t=Bn(e);return t.__chain__=!0,t}function Iu(e,t){return t(e),e}function qu(e,t){return t(e)}function Uu(){return Fu(this)}function zu(){return new dr(this.value(),this.__chain__)}function Wu(e){return this.map(e).flatten()}function Xu(){this.__values__===e&&(this.__values__=Mf(this.value()));var t=this.__index__>=this.__values__.length,n=t?e:this.__values__[this.__index__++];return{done:t,value:n}}function Vu(){return this}function $u(t){var n,r=this;while(r instanceof jn){var i=Oo(r);i.__index__=0,i.__values__=e,n?s.__wrapped__=i:n=i;var s=i;r=r.__wrapped__}return s.__wrapped__=t,n}function Ju(){var t=this.__wrapped__;if(t instanceof _r){var n=t;return this.__actions__.length&&(n=new _r(this)),n=n.reverse(),n.__actions__.push({func:qu,args:[uu],thisArg:e}),new dr(n,this.__chain__)}return this.thru(uu)}function Ku(){return gs(this.__wrapped__,this.__actions__)}function Gu(t,n,r){var i=Ya(t)?Vn:Ei;return r&&mo(t,n,r)&&(n=e),i(t,ro(n,3))}function Yu(e,t){var n=Ya(e)?$n:xi;return n(e,ro(t,3))}function Zu(t,n){n=ro(n,3);if(Ya(t)){var r=rr(t,n);return r>-1?t[r]:e}return nr(t,n,bi)}function ea(t,n){n=ro(n,3);if(Ya(t)){var r=rr(t,n,!0);return r>-1?t[r]:e}return nr(t,n,wi)}function ta(e,t){return Ti(aa(e,t))}function na(e,t){return typeof t=="function"&&Ya(e)?Wn(e,t):bi(e,Ao(t))}function ra(e,t){return typeof t=="function"&&Ya(e)?Xn(e,t):wi(e,Ao(t))}function sa(e,t,n,r){e=Za(e)?e:xl(e),n=n&&!r?_f(n):0;var i=e.length;return n<0&&(n=fn(i+n,0)),Nf(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&ir(e,t,n)>-1}function aa(e,t){var n=Ya(e)?Qn:Wi;return n(e,ro(t,3))}function fa(t,n,r,i){return t==null?[]:(Ya(n)||(n=n==null?[]:[n]),r=i?e:r,Ya(r)||(r=r==null?[]:[r]),Ki(t,n,r))}function ca(e,t,n){var r=Ya(e)?Yn:sr,i=arguments.length<3;return r(e,ro(t,4),n,i,bi)}function ha(e,t,n){var r=Ya(e)?Zn:sr,i=arguments.length<3;return r(e,ro(t,4),n,i,wi)}function pa(e,t){var n=Ya(e)?$n:xi;return t=ro(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function da(t){var n=Za(t)?t:xl(t),r=n.length;return r>0?n[rs(0,r-1)]:e}function va(e,t){var n=-1,r=Mf(e),i=r.length,s=i-1;t=pi(_f(t),0,i);while(++n<t){var o=rs(n,s),u=r[o];r[o]=r[n],r[n]=u}return r.length=t,r}function ma(e){return va(e,L)}function ga(e){if(e==null)return 0;if(Za(e)){var t=e.length;return t&&Nf(e)?kr(e):t}return ol(e).length}function ya(t,n,r){var i=Ya(t)?er:as;return r&&mo(t,n,r)&&(n=e),i(t,ro(n,3))}function Ea(e,t){if(typeof t!="function")throw new Bt(S);return e=_f(e),function(){if(--e<1)return t.apply(this,arguments)}}function Sa(t,n,r){return n=r?e:n,n=t&&n==null?t.length:n,Gs(t,f,e,e,e,e,n)}function xa(t,n){var r;if(typeof n!="function")throw new Bt(S);return t=_f(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=e),r}}function Ca(t,n,r){n=r?e:n;var i=Gs(t,s,e,e,e,e,e,n);return i.placeholder=Ca.placeholder,i}function ka(t,n,r){n=r?e:n;var i=Gs(t,o,e,e,e,e,e,n);return i.placeholder=ka.placeholder,i}function La(t,n,r){function v(){f&&Kt(f),s&&Kt(s),c=0,i=s=a=f=l=e}function m(n,r){r&&Kt(r),s=f=l=e,n&&(c=wa(),o=t.apply(a,i),!f&&!s&&(i=a=e))}function g(){var e=n-(wa()-u);e<=0||e>n?m(l,s):f=tn(g,e)}function y(){if(f&&l||s&&d)o=t.apply(a,i);return v(),o}function b(){m(d,f)}function w(){i=arguments,u=wa(),a=this,l=d&&(f||!h);if(p===!1)var r=h&&!f;else{!s&&!h&&(c=u);var v=p-(u-c),m=v<=0||v>p;m?(s&&(s=Kt(s)),c=u,o=t.apply(a,i)):s||(s=tn(b,v))}return m&&f?f=Kt(f):!f&&n!==p&&(f=tn(g,n)),r&&(m=!0,o=t.apply(a,i)),m&&!f&&!s&&(i=a=e),o}var i,s,o,u,a,f,l,c=0,h=!1,p=!1,d=!0;if(typeof t!="function")throw new Bt(S);return n=Pf(n)||0,pf(r)&&(h=!!r.leading,p="maxWait"in r&&fn(Pf(r.maxWait)||0,n),d="trailing"in r?!!r.trailing:d),w.cancel=v,w.flush=y,w}function Ma(e){return Gs(e,c)}function _a(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new Bt(S);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new _a.Cache,n}function Da(e){if(typeof e!="function")throw new Bt(S);return function(){return!e.apply(this,arguments)}}function Pa(e){return xa(2,e)}function Ia(t,n){if(typeof t!="function")throw new Bt(S);return n=fn(n===e?t.length-1:_f(n),0),function(){var e=arguments,r=-1,i=fn(e.length-n,0),s=Array(i);while(++r<i)s[r]=e[n+r];switch(n){case 0:return t.call(this,s);case 1:return t.call(this,e[0],s);case 2:return t.call(this,e[0],e[1],s)}var o=Array(n+1);r=-1;while(++r<n)o[r]=e[r];return o[n]=s,Rn(t,this,o)}}function qa(t,n){if(typeof t!="function")throw new Bt(S);return n=n===e?0:fn(_f(n),0),Ia(function(e){var r=e[n],i=e.slice(0,n);return r&&Gn(i,r),Rn(t,this,i)})}function Ra(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new Bt(S);return pf(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),La(e,t,{leading:r,maxWait:t,trailing:i})}function Ua(e){return Sa(e,1)}function za(e,t){return t=t==null?cc:t,Ba(t,e)}function Wa(e){return di(e)}function Xa(e,t){return di(e,!1,t)}function Va(e){return di(e,!0)}function $a(e,t){return di(e,!0,t)}function Ja(e,t){return e===t||e!==e&&t!==t}function Ka(e,t){return e>t}function Qa(e,t){return e>=t}function Ga(e){return ef(e)&&qt.call(e,"callee")&&(!en.call(e,"callee")||zt.call(e)==_)}function Za(e){return e!=null&&(typeof e!="function"||!lf(e))&&hf(io(e))}function ef(e){return df(e)&&Za(e)}function tf(e){return e===!0||e===!1||df(e)&&zt.call(e)==P}function nf(e){return df(e)&&zt.call(e)==H}function rf(e){return!!e&&e.nodeType===1&&df(e)&&!Sf(e)}function sf(e){if(Za(e)&&(Ya(e)||Nf(e)||lf(e.splice)||Ga(e)))return!e.length;for(var t in e)if(qt.call(e,t))return!1;return!0}function of(e,t){return Fi(e,t)}function uf(t,n,r){r=typeof r=="function"?r:e;var i=r?r(t,n):e;return i===e?Fi(t,n,r):!!i}function af(e){return df(e)&&typeof e.message=="string"&&zt.call(e)==B}function ff(e){return typeof e=="number"&&on(e)}function lf(e){var t=pf(e)?zt.call(e):"";return t==j||t==F}function cf(e){return typeof e=="number"&&e==_f(e)}function hf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=N}function pf(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function df(e){return!!e&&typeof e=="object"}function vf(e,t){return e===t||qi(e,t,so(t))}function mf(t,n,r){return r=typeof r=="function"?r:e,qi(t,n,so(n),r)}function gf(e){return Ef(e)&&e!=+e}function yf(e){return e==null?!1:lf(e)?Xt.test(It.call(e)):df(e)&&(Er(e)?Xt:kt).test(e)}function bf(e){return e===null}function wf(e){return e==null}function Ef(e){return typeof e=="number"||df(e)&&zt.call(e)==q}function Sf(e){if(!df(e)||zt.call(e)!=R||Er(e))return!1;var t=Ft;typeof e.constructor=="function"&&(t=Gt(e));if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&It.call(n)==Ut}function xf(e){return pf(e)&&zt.call(e)==U}function Tf(e){return cf(e)&&e>=-N&&e<=N}function Nf(e){return typeof e=="string"||!Ya(e)&&df(e)&&zt.call(e)==W}function Cf(e){return typeof e=="symbol"||df(e)&&zt.call(e)==X}function kf(e){return df(e)&&hf(e.length)&&!!Sn[zt.call(e)]}function Lf(t){return t===e}function Af(e,t){return e<t}function Of(e,t){return e<=t}function Mf(e){if(!e)return[];if(Za(e))return Nf(e)?Lr(e):Ls(e);if(Zt&&e[Zt])return xr(e[Zt]());var t=ao(e),n=t==I?Tr:t==z?Cr:xl;return n(e)}function _f(e){if(!e)return e===0?e:0;e=Pf(e);if(e===T||e===-T){var t=e<0?-1:1;return t*C}var n=e%1;return e===e?n?e-n:e:0}function Df(e){return e?pi(_f(e),0,L):0}function Pf(e){if(pf(e)){var t=lf(e.valueOf)?e.valueOf():e;e=pf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(yt,"");var n=Ct.test(e);return n||Lt.test(e)?On(e.slice(2),n?2:8):Nt.test(e)?k:+e}function Hf(e){return As(e,ul(e))}function Bf(e){return pi(_f(e),-N,N)}function jf(e){if(typeof e=="string")return e;if(e==null)return"";if(Cf(e))return $t?Pn.call(e):"";var t=e+"";return t=="0"&&1/e==-T?"-0":t}function zf(e,t){var n=mi(e);return t?ci(n,t):n}function Vf(e,t){return nr(e,ro(t,3),Li,!0)}function $f(e,t){return nr(e,ro(t,3),Ai,!0)}function Jf(e,t){return e==null?e:Ni(e,Ao(t),ul)}function Kf(e,t){return e==null?e:Ci(e,Ao(t),ul)}function Qf(e,t){return e&&Li(e,Ao(t))}function Gf(e,t){return e&&Ai(e,Ao(t))}function Yf(e){return e==null?[]:Oi(e,ol(e))}function Zf(e){return e==null?[]:Oi(e,ul(e))}function el(t,n,r){var i=t==null?e:Mi(t,n);return i===e?r:i}function tl(e,t){return lo(e,t,_i)}function nl(e,t){return lo(e,t,Di)}function ol(e){var t=wo(e);if(!t&&!Za(e))return Ui(e);var n=vo(e),r=!!n,i=n||[],s=i.length;for(var o in e)_i(e,o)&&(!r||o!="length"&&!Sr(o,s))&&(!t||o!="constructor")&&i.push(o);return i}function ul(e){var t=-1,n=wo(e),r=zi(e),i=r.length,s=vo(e),o=!!s,u=s||[],a=u.length;while(++t<i){var f=r[t];(!o||f!="length"&&!Sr(f,a))&&(f!="constructor"||!n&&!!qt.call(e,f))&&u.push(f)}return u}function al(e,t){var n={};return t=ro(t,3),Li(e,function(e,r,i){n[t(e,r,i)]=e}),n}function fl(e,t){var n={};return t=ro(t,3),Li(e,function(e,r,i){n[r]=t(e,r,i)}),n}function pl(e,t){return t=ro(t,2),Gi(e,function(e,n){return!t(e,n)})}function vl(e,t){return e==null?{}:Gi(e,ro(t,2))}function ml(t,n,r){if(!go(n,t)){n=ps(n);var i=el(t,n);t=To(t,n)}else i=t==null?e:t[n];return i===e&&(i=r),lf(i)?i.call(t):i}function gl(e,t,n){return e==null?e:ss(e,t,n)}function yl(t,n,r,i){return i=typeof i=="function"?i:e,t==null?t:ss(t,n,r,i)}function bl(e){return fr(e,ol(e))}function wl(e){return fr(e,ul(e))}function El(t,n,r){var i=Ya(t)||kf(t);n=ro(n,4);if(r==null)if(i||pf(t)){var s=t.constructor;i?r=Ya(t)?new s:[]:r=mi(lf(s)?s.prototype:e)}else r={};return(i?Wn:Li)(t,function(e,t,i){return n(r,e,t,i)}),r}function Sl(e,t){return e==null?!0:vs(e,t)}function xl(e){return e?cr(e,ol(e)):[]}function Tl(e){return e==null?cr(e,ul(e)):[]}function Nl(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=Pf(r),r=r===r?r:0),n!==e&&(n=Pf(n),n=n===n?n:0),pi(Pf(t),n,r)}function Cl(t,n,r){return n=Pf(n)||0,r===e?(r=n,n=0):r=Pf(r)||0,t=Pf(t),Pi(t,n,r)}function kl(t,n,r){r&&typeof r!="boolean"&&mo(t,n,r)&&(n=r=e),r===e&&(typeof n=="boolean"?(r=n,n=e):typeof t=="boolean"&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=Pf(t)||0,n===e?(n=t,t=0):n=Pf(n)||0);if(t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var s=hn();return ln(t+s*(n-t+An("1e-"+((s+"").length-1))),n)}return rs(t,n)}function Al(e){return jl(jf(e).toLowerCase())}function Ol(e){return e=jf(e),e&&e.replace(Ot,gr).replace(dn,"")}function Ml(t,n,r){t=jf(t),n=typeof n=="string"?n:n+"";var i=t.length;return r=r===e?i:pi(_f(r),0,i),r-=n.length,r>=0&&t.indexOf(n,r)==r}function _l(e){return e=jf(e),e&&ft.test(e)?e.replace(ut,yr):e}function Dl(e){return e=jf(e),e&&gt.test(e)?e.replace(mt,"\\$&"):e}function Fl(e,t,n){e=jf(e),t=_f(t);var r=kr(e);if(!t||r>=t)return e;var i=(t-r)/2,s=sn(i),o=rn(i);return Xs("",s,n)+e+Xs("",o,n)}function Il(e,t,n){return e=jf(e),e+Xs(e,t,n)}function ql(e,t,n){return e=jf(e),Xs(e,t,n)+e}function Rl(e,t,n){return n||t==null?t=0:t&&(t=+t),e=jf(e).replace(yt,""),cn(e,t||(Tt.test(e)?16:10))}function Ul(e,t){e=jf(e),t=_f(t);var n="";if(!e||t<1||t>N)return n;do t%2&&(n+=e),t=sn(t/2),e+=e;while(t);return n}function zl(){var e=arguments,t=jf(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function Xl(e,t,n){return jf(e).split(t,n)}function $l(e,t,n){return e=jf(e),n=pi(_f(n),0,e.length),e.lastIndexOf(t,n)==n}function Jl(t,n,r){var i=Bn.templateSettings;r&&mo(t,n,r)&&(n=e),t=jf(t),n=qf({},n,i,ui);var s=qf({},n.imports,i.imports,ui),o=ol(s),u=cr(s,o),a,f,l=0,c=n.interpolate||Mt,h="__p += '",p=Ht((n.escape||Mt).source+"|"+c.source+"|"+(c===ht?St:Mt).source+"|"+(n.evaluate||Mt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++En+"]")+"\n";t.replace(p,function(e,n,r,i,s,o){return r||(r=i),h+=t.slice(l,o).replace(_t,br),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(f=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=o+e.length,e}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(f?h.replace(rt,""):h).replace(it,"$1").replace(st,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=ic(function(){return Function(o,d+"return "+h).apply(e,u)});m.source=h;if(af(m))throw m;return m}function Kl(e){return jf(e).toLowerCase()}function Ql(e){return jf(e).toUpperCase()}function Gl(t,n,r){t=jf(t);if(!t)return t;if(r||n===e)return t.replace(yt,"");n+="";if(!n)return t;var i=Lr(t),s=Lr(n);return i.slice(hr(i,s),pr(i,s)+1).join("")}function Yl(t,n,r){t=jf(t);if(!t)return t;if(r||n===e)return t.replace(wt,"");n+="";if(!n)return t;var i=Lr(t);return i.slice(0,pr(i,Lr(n))+1).join("")}function Zl(t,n,r){t=jf(t);if(!t)return t;if(r||n===e)return t.replace(bt,"");n+="";if(!n)return t;var i=Lr(t);return i.slice(hr(i,Lr(n))).join("")}function ec(t,n){var r=d,i=v;if(pf(n)){var s="separator"in n?n.separator:s;r="length"in n?_f(n.length):r,i="omission"in n?jf(n.omission):i}t=jf(t);var o=t.length;if(mn.test(t)){var u=Lr(t);o=u.length}if(r>=o)return t;var a=r-kr(i);if(a<1)return i;var f=u?u.slice(0,a).join(""):t.slice(0,a);if(s===e)return f+i;u&&(a+=f.length-a);if(xf(s)){if(t.slice(a).search(s)){var l,c=f;s.global||(s=Ht(s.source,jf(xt.exec(s))+"g")),s.lastIndex=0;while(l=s.exec(c))var h=l.index;f=f.slice(0,h===e?a:h)}}else if(t.indexOf(s,a)!=a){var p=f.lastIndexOf(s);p>-1&&(f=f.slice(0,p))}return f+i}function tc(e){return e=jf(e),e&&at.test(e)?e.replace(ot,Ar):e}function rc(t,n,r){return t=jf(t),n=r?e:n,n===e&&(n=bn.test(t)?yn:gn),t.match(n)||[]}function oc(e){var t=e?e.length:0,n=ro();return e=t?Qn(e,function(e){if(typeof e[1]!="function")throw new Bt(S);return[n(e[0]),e[1]]}):[],Ia(function(n){var r=-1;while(++r<t){var i=e[r];if(Rn(i[0],this,n))return Rn(i[1],this,n)}})}function uc(e){return vi(di(e,!0))}function ac(e){return function(){return e}}function cc(e){return e}function hc(e){return Ri(typeof e=="function"?e:di(e,!0))}function pc(e){return Xi(di(e,!0))}function dc(e,t){return Vi(e,di(t,!0))}function gc(e,t,n){var r=ol(t),i=Oi(t,r);n==null&&(!pf(t)||!i.length&&!!r.length)&&(n=t,t=e,e=this,i=Oi(t,ol(t)));var s=pf(n)&&"chain"in n?n.chain:!0,o=lf(e);return Wn(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),i=n.__actions__=Ls(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Gn([this.value()],arguments))})}),e}function yc(){return Fn._===this&&(Fn._=Wt),this}function bc(){}function wc(e){return e=_f(e),function(){return arguments[e]}}function Tc(e){return go(e)?Yi(e):Zi(e)}function Nc(t){return function(n){return t==null?e:Mi(t,n)}}function Lc(e,t){e=_f(e);if(e<1||e>N)return[];var n=L,r=ln(e,L);t=Ao(t),e-=L;var i=ar(r,t);while(++n<e)t(n);return i}function Ac(e){return Ya(e)?Qn(e,String):ko(e)}function Oc(e){var t=++Rt;return jf(e)+t}function Mc(t,n){var r;return t!==e&&(r=t),n!==e&&(r=r===e?n:r+n),r}function Pc(t){return t&&t.length?tr(t,cc,Ka):e}function Hc(t,n){return t&&t.length?tr(t,ro(n),Ka):e}function Bc(e){return Rc(e)/(e?e.length:0)}function jc(t){return t&&t.length?tr(t,cc,Af):e}function Fc(t,n){return t&&t.length?tr(t,ro(n),Af):e}function qc(t,n){var r;return t!==e&&(r=t),n!==e&&(r=r===e?n:r-n),r}function Rc(e){return e&&e.length?ur(e,cc):0}function Uc(e,t){return e&&e.length?ur(e,ro(t)):0}V=V?Mr.defaults({},V,Mr.pick(Fn,wn)):Fn;var At=V.Date,Dt=V.Error,Pt=V.Math,Ht=V.RegExp,Bt=V.TypeError,jt=V.Array.prototype,Ft=V.Object.prototype,It=V.Function.prototype.toString,qt=Ft.hasOwnProperty,Rt=0,Ut=It.call(Object),zt=Ft.toString,Wt=Fn._,Xt=Ht("^"+It.call(qt).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=V.Reflect,$t=V.Symbol,Jt=V.Uint8Array,Kt=V.clearTimeout,Qt=Vt?Vt.enumerate:e,Gt=Object.getPrototypeOf,Yt=Object.getOwnPropertySymbols,Zt=typeof (Zt=$t&&$t.iterator)=="symbol"?Zt:e,en=Ft.propertyIsEnumerable,tn=V.setTimeout,nn=jt.splice,rn=Pt.ceil,sn=Pt.floor,on=V.isFinite,un=jt.join,an=Object.keys,fn=Pt.max,ln=Pt.min,cn=V.parseInt,hn=Pt.random,pn=jt.reverse,vn=oo(V,"Map"),Tn=oo(V,"Set"),Nn=oo(V,"WeakMap"),Cn=oo(Object,"create"),kn=Nn&&new Nn,Ln=vn?It.call(vn):"",Mn=Tn?It.call(Tn):"",_n=$t?$t.prototype:e,Dn=$t?_n.valueOf:e,Pn=$t?_n.toString:e,Hn={};Bn.templateSettings={escape:lt,evaluate:ct,interpolate:ht,variable:"",imports:{_:Bn}};var mi=function(){function t(){}return function(n){if(pf(n)){t.prototype=n;var r=new t;t.prototype=e}return r||{}}}(),bi=Ps(Li),wi=Ps(Ai,!0),Ni=Hs(),Ci=Hs(!0);Qt&&!en.call({valueOf:1},"valueOf")&&(zi=function(e){return xr(Qt(e))});var os=kn?function(e,t){return kn.set(e,t),e}:cc,Qs=!Tn||(new Tn([1,2])).size!==2?bc:function(e){return new Tn(e)},to=kn?function(e){return kn.get(e)}:bc,io=Yi("length"),uo=Yt||function(){return[]};if(vn&&ao(new vn)!=I||Tn&&ao(new Tn)!=z)ao=function(e){var t=zt.call(e),n=t==R?e.constructor:null,r=typeof n=="function"?It.call(n):"";if(r){if(r==Ln)return I;if(r==Mn)return z}return t};var Co=function(){var e=0,t=0;return function(n,r){var i=wa(),s=g-(i-t);t=i;if(s>0){if(++e>=m)return n}else e=0;return os(n,r)}}(),Do=Ia(function(e,t){return Ya(e)||(e=e==null?[]:[Object(e)]),t=Ti(t),zn(e,t)}),Po=Ia(function(e,t){return ef(e)?yi(e,Ti(t,!1,!0)):[]}),Ho=Ia(function(t,n){var r=eu(n);return ef(r)&&(r=e),ef(t)?yi(t,Ti(n,!1,!0),ro(r)):[]}),Bo=Ia(function(t,n){var r=eu(n);return ef(r)&&(r=e),ef(t)?yi(t,Ti(n,!1,!0),e,r):[]}),Qo=Ia(function(e){var t=Qn(e,Lo);return t.length&&t[0]===e[0]?Hi(t):[]}),Go=Ia(function(t){var n=eu(t),r=Qn(t,Lo);return n===eu(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Hi(r,ro(n)):[]}),Yo=Ia(function(t){var n=eu(t),r=Qn(t,Lo);return n===eu(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Hi(r,e,n):[]}),nu=Ia(ru),su=Ia(function(e,t){t=Qn(Ti(t),String);var n=hi(e,t);return ns(e,t.sort(vr)),n}),Su=Ia(function(e){return ds(Ti(e,!1,!0))}),xu=Ia(function(t){var n=eu(t);return ef(n)&&(n=e),ds(Ti(t,!1,!0),ro(n))}),Tu=Ia(function(t){var n=eu(t);return ef(n)&&(n=e),ds(Ti(t,!1,!0),e,n)}),Ou=Ia(function(e,t){return ef(e)?yi(e,t):[]}),Mu=Ia(function(e){return ys($n(e,ef))}),_u=Ia(function(t){var n=eu(t);return ef(n)&&(n=e),ys($n(t,ef),ro(n))}),Du=Ia(function(t){var n=eu(t);return ef(n)&&(n=e),ys($n(t,ef),e,n)}),Pu=Ia(Lu),ju=Ia(function(t){var n=t.length,r=n>1?t[n-1]:e;return r=typeof r=="function"?(t.pop(),r):e,Au(t,r)}),Ru=Ia(function(t){t=Ti(t);var n=t.length,r=n?t[0]:0,i=this.__wrapped__,s=function(e){return hi(e,t)};return n>1||this.__actions__.length||!(i instanceof _r)||!Sr(r)?this.thru(s):(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:qu,args:[s],thisArg:e}),(new dr(i,this.__chain__)).thru(function(t){return n&&!t.length&&t.push(e),t}))}),Qu=_s(function(e,t,n){qt.call(e,n)?++e[n]:e[n]=1}),ia=_s(function(e,t,n){qt.call(e,n)?e[n].push(t):e[n]=[t]}),oa=Ia(function(t,n,r){var i=-1,s=typeof n=="function",o=go(n),u=Za(t)?Array(t.length):[];return bi(t,function(t){var a=s?n:o&&t!=null?t[n]:e;u[++i]=a?Rn(a,t,r):ji(t,n,r)}),u}),ua=_s(function(e,t,n){e[n]=t}),la=_s(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ba=Ia(function(e,t){if(e==null)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t.length=1),Ki(e,Ti(t),[])}),wa=At.now,Ta=Ia(function(e,t,r){var i=n;if(r.length){var s=Nr(r,Ta.placeholder);i|=u}return Gs(e,i,t,r,s)}),Na=Ia(function(e,t,i){var s=n|r;if(i.length){var o=Nr(i,Na.placeholder);s|=u}return Gs(t,s,e,i,o)}),Aa=Ia(function(e,t){return gi(e,1,t)}),Oa=Ia(function(e,t,n){return gi(e,Pf(t)||0,n)}),Ha=Ia(function(e,t){t=Qn(Ti(t),ro());var n=t.length;return Ia(function(r){var i=-1,s=ln(r.length,n);while(++i<s)r[i]=t[i].call(this,r[i]);return Rn(e,this,r)})}),Ba=Ia(function(t,n){var r=Nr(n,Ba.placeholder);return Gs(t,u,e,n,r)}),ja=Ia(function(t,n){var r=Nr(n,ja.placeholder);return Gs(t,a,e,n,r)}),Fa=Ia(function(t,n){return Gs(t,l,e,e,e,Ti(n))}),Ya=Array.isArray,Ff=Ds(function(e,t){As(t,ol(t),e)}),If=Ds(function(e,t){As(t,ul(t),e)}),qf=Ds(function(e,t,n,r){Os(t,ul(t),e,r)}),Rf=Ds(function(e,t,n,r){Os(t,ol(t),e,r)}),Uf=Ia(function(e,t){return hi(e,Ti(t))}),Wf=Ia(function(t){return t.push(e,ui),Rn(qf,e,t)}),Xf=Ia(function(t){return t.push(e,xo),Rn(cl,e,t)}),rl=zs(function(e,t,n){e[t]=n},ac(cc)),il=zs(function(e,t,n){qt.call(e,t)?e[t].push(n):e[t]=[n]},ro),sl=Ia(ji),ll=Ds(function(e,t,n){$i(e,t,n)}),cl=Ds(function(e,t,n,r){$i(e,t,n,r)}),hl=Ia(function(e,t){return e==null?{}:(t=Qn(Ti(t),String),Qi(e,yi(ul(e),t)))}),dl=Ia(function(e,t){return e==null?{}:Qi(e,Ti(t))}),Ll=Fs(function(e,t,n){return t=t.toLowerCase(),e+(n?Al(t):t)}),Pl=Fs(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Hl=Fs(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Bl=js("toLowerCase"),jl=js("toUpperCase"),Wl=Fs(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Vl=Fs(function(e,t,n){return e+(n?" ":"")+Al(t)}),nc=Fs(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ic=Ia(function(t,n){try{return Rn(t,e,n)}catch(r){return pf(r)?r:new Dt(r)}}),sc=Ia(function(e,t){return Wn(Ti(t),function(t){e[t]=Ta(e[t],e)}),e}),fc=Rs(),lc=Rs(!0),vc=Ia(function(e,t){return function(n){return ji(n,e,t)}}),mc=Ia(function(e,t){return function(n){return ji(e,n,t)}}),Ec=Ws(Qn),Sc=Ws(Vn),xc=Ws(er),Cc=$s(),kc=$s(!0),_c=Ks("ceil"),Dc=Ks("floor"),Ic=Ks("round");return Bn.prototype=jn.prototype,dr.prototype=mi(jn.prototype),dr.prototype.constructor=dr,_r.prototype=mi(jn.prototype),_r.prototype.constructor=_r,Br.prototype=Cn?Cn(null):Ft,Rr.prototype.clear=Ur,Rr.prototype["delete"]=zr,Rr.prototype.get=Wr,Rr.prototype.has=Xr,Rr.prototype.set=Vr,$r.prototype.push=Kr,Qr.prototype.clear=Gr,Qr.prototype["delete"]=Yr,Qr.prototype.get=Zr,Qr.prototype.has=ei,Qr.prototype.set=ti,_a.Cache=Rr,Bn.after=Ea,Bn.ary=Sa,Bn.assign=Ff,Bn.assignIn=If,Bn.assignInWith=qf,Bn.assignWith=Rf,Bn.at=Uf,Bn.before=xa,Bn.bind=Ta,Bn.bindAll=sc,Bn.bindKey=Na,Bn.chain=Fu,Bn.chunk=Mo,Bn.compact=_o,Bn.concat=Do,Bn.cond=oc,Bn.conforms=uc,Bn.constant=ac,Bn.countBy=Qu,Bn.create=zf,Bn.curry=Ca,Bn.curryRight=ka,Bn.debounce=La,Bn.defaults=Wf,Bn.defaultsDeep=Xf,Bn.defer=Aa,Bn.delay=Oa,Bn.difference=Po,Bn.differenceBy=Ho,Bn.differenceWith=Bo,Bn.drop=jo,Bn.dropRight=Fo,Bn.dropRightWhile=Io,Bn.dropWhile=qo,Bn.fill=Ro,Bn.filter=Yu,Bn.flatMap=ta,Bn.flatten=Wo,Bn.flattenDeep=Xo,Bn.flip=Ma,Bn.flow=fc,Bn.flowRight=lc,Bn.fromPairs=Vo,Bn.functions=Yf,Bn.functionsIn=Zf,Bn.groupBy=ia,Bn.initial=Ko,Bn.intersection=Qo,Bn.intersectionBy=Go,Bn.intersectionWith=Yo,Bn.invert=rl,Bn.invertBy=il,Bn.invokeMap=oa,Bn.iteratee=hc,Bn.keyBy=ua,Bn.keys=ol,Bn.keysIn=ul,Bn.map=aa,Bn.mapKeys=al,Bn.mapValues=fl,Bn.matches=pc,Bn.matchesProperty=dc,Bn.memoize=_a,Bn.merge=ll,Bn.mergeWith=cl,Bn.method=vc,Bn.methodOf=mc,Bn.mixin=gc,Bn.negate=Da,Bn.nthArg=wc,Bn.omit=hl,Bn.omitBy=pl,Bn.once=Pa,Bn.orderBy=fa,Bn.over=Ec,Bn.overArgs=Ha,Bn.overEvery=Sc,Bn.overSome=xc,Bn.partial=Ba,Bn.partialRight=ja,Bn.partition=la,Bn.pick=dl,Bn.pickBy=vl,Bn.property=Tc,Bn.propertyOf=Nc,Bn.pull=nu,Bn.pullAll=ru,Bn.pullAllBy=iu,Bn.pullAt=su,Bn.range=Cc,Bn.rangeRight=kc,Bn.rearg=Fa,Bn.reject=pa,Bn.remove=ou,Bn.rest=Ia,Bn.reverse=uu,Bn.sampleSize=va,Bn.set=gl,Bn.setWith=yl,Bn.shuffle=ma,Bn.slice=au,Bn.sortBy=ba,Bn.sortedUniq=vu,Bn.sortedUniqBy=mu,Bn.split=Xl,Bn.spread=qa,Bn.tail=gu,Bn.take=yu,Bn.takeRight=bu,Bn.takeRightWhile=wu,Bn.takeWhile=Eu,Bn.tap=Iu,Bn.throttle=Ra,Bn.thru=qu,Bn.toArray=Mf,Bn.toPairs=bl,Bn.toPairsIn=wl,Bn.toPath=Ac,Bn.toPlainObject=Hf,Bn.transform=El,Bn.unary=Ua,Bn.union=Su,Bn.unionBy=xu,Bn.unionWith=Tu,Bn.uniq=Nu,Bn.uniqBy=Cu,Bn.uniqWith=ku,Bn.unset=Sl,Bn.unzip=Lu,Bn.unzipWith=Au,Bn.values=xl,Bn.valuesIn=Tl,Bn.without=Ou,Bn.words=rc,Bn.wrap=za,Bn.xor=Mu,Bn.xorBy=_u,Bn.xorWith=Du,Bn.zip=Pu,Bn.zipObject=Hu,Bn.zipObjectDeep=Bu,Bn.zipWith=ju,Bn.extend=If,Bn.extendWith=qf,gc(Bn,Bn),Bn.add=Mc,Bn.attempt=ic,Bn.camelCase=Ll,Bn.capitalize=Al,Bn.ceil=_c,Bn.clamp=Nl,Bn.clone=Wa,Bn.cloneDeep=Va,Bn.cloneDeepWith=$a,Bn.cloneWith=Xa,Bn.deburr=Ol,Bn.endsWith=Ml,Bn.eq=Ja,Bn.escape=_l,Bn.escapeRegExp=Dl,Bn.every=Gu,Bn.find=Zu,Bn.findIndex=Uo,Bn.findKey=Vf,Bn.findLast=ea,Bn.findLastIndex=zo,Bn.findLastKey=$f,Bn.floor=Dc,Bn.forEach=na,Bn.forEachRight=ra,Bn.forIn=Jf,Bn.forInRight=Kf,Bn.forOwn=Qf,Bn.forOwnRight=Gf,Bn.get=el,Bn.gt=Ka,Bn.gte=Qa,Bn.has=tl,Bn.hasIn=nl,Bn.head=$o,Bn.identity=cc,Bn.includes=sa,Bn.indexOf=Jo,Bn.inRange=Cl,Bn.invoke=sl,Bn.isArguments=Ga,Bn.isArray=Ya,Bn.isArrayLike=Za,Bn.isArrayLikeObject=ef,Bn.isBoolean=tf,Bn.isDate=nf,Bn.isElement=rf,Bn.isEmpty=sf,Bn.isEqual=of,Bn.isEqualWith=uf,Bn.isError=af,Bn.isFinite=ff,Bn.isFunction=lf,Bn.isInteger=cf,Bn.isLength=hf,Bn.isMatch=vf,Bn.isMatchWith=mf,Bn.isNaN=gf,Bn.isNative=yf,Bn.isNil=wf,Bn.isNull=bf,Bn.isNumber=Ef,Bn.isObject=pf,Bn.isObjectLike=df,Bn.isPlainObject=Sf,Bn.isRegExp=xf,Bn.isSafeInteger=Tf,Bn.isString=Nf,Bn.isSymbol=Cf,Bn.isTypedArray=kf,Bn.isUndefined=Lf,Bn.join=Zo,Bn.kebabCase=Pl,Bn.last=eu,Bn.lastIndexOf=tu,Bn.lowerCase=Hl,Bn.lowerFirst=Bl,Bn.lt=Af,Bn.lte=Of,Bn.max=Pc,Bn.maxBy=Hc,Bn.mean=Bc,Bn.min=jc,Bn.minBy=Fc,Bn.noConflict=yc,Bn.noop=bc,Bn.now=wa,Bn.pad=Fl,Bn.padEnd=Il,Bn.padStart=ql,Bn.parseInt=Rl,Bn.random=kl,Bn.reduce=ca,Bn.reduceRight=ha,Bn.repeat=Ul,Bn.replace=zl,Bn.result=ml,Bn.round=Ic,Bn.runInContext=Or,Bn.sample=da,Bn.size=ga,Bn.snakeCase=Wl,Bn.some=ya,Bn.sortedIndex=fu,Bn.sortedIndexBy=lu,Bn.sortedIndexOf=cu,Bn.sortedLastIndex=hu,Bn.sortedLastIndexBy=pu,Bn.sortedLastIndexOf=du,Bn.startCase=Vl,Bn.startsWith=$l,Bn.subtract=qc,Bn.sum=Rc,Bn.sumBy=Uc,Bn.template=Jl,Bn.times=Lc,Bn.toInteger=_f,Bn.toLength=Df,Bn.toLower=Kl,Bn.toNumber=Pf,Bn.toSafeInteger=Bf,Bn.toString=jf,Bn.toUpper=Ql,Bn.trim=Gl,Bn.trimEnd=Yl,Bn.trimStart=Zl,Bn.truncate=ec,Bn.unescape=tc,Bn.uniqueId=Oc,Bn.upperCase=nc,Bn.upperFirst=jl,Bn.each=na,Bn.eachRight=ra,Bn.first=$o,gc(Bn,function(){var e={};return Li(Bn,function(t,n){qt.call(Bn.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Bn.VERSION=t,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bn[e].placeholder=Bn}),Wn(["drop","take"],function(t,n){_r.prototype[t]=function(r){var i=this.__filtered__;if(i&&!n)return new _r(this);r=r===e?1:fn(_f(r),0);var s=this.clone();return i?s.__takeCount__=ln(r,s.__takeCount__):s.__views__.push({size:ln(r,L),type:t+(s.__dir__<0?"Right":"")}),s},_r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Wn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==b||n==E;_r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ro(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Wn(["head","last"],function(e,t){var n="take"+(t?"Right":"");_r.prototype[e]=function(){return this[n](1).value()[0]}}),Wn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");_r.prototype[e]=function(){return this.__filtered__?new _r(this):this[n](1)}}),_r.prototype.compact=function(){return this.filter(cc)},_r.prototype.find=function(e){return this.filter(e).head()},_r.prototype.findLast=function(e){return this.reverse().find(e)},_r.prototype.invokeMap=Ia(function(e,t){return typeof e=="function"?new _r(this):this.map(function(n){return ji(n,e,t)})}),_r.prototype.reject=function(e){return e=ro(e,3),this.filter(function(t){return!e(t)})},_r.prototype.slice=function(t,n){t=_f(t);var r=this;return r.__filtered__&&(t>0||n<0)?new _r(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(n=_f(n),r=n<0?r.dropRight(-n):r.take(n-t)),r)},_r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},_r.prototype.toArray=function(){return this.take(L)},Li(_r.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),s=Bn[i?"take"+(n=="last"?"Right":""):n],o=i||/^find/.test(n);if(!s)return;Bn.prototype[n]=function(){var n=this.__wrapped__,u=i?[1]:arguments,a=n instanceof _r,f=u[0],l=a||Ya(n),c=function(e){var t=s.apply(Bn,Gn([e],u));return i&&h?t[0]:t};l&&r&&typeof f=="function"&&f.length!=1&&(a=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=o&&!h,v=a&&!p;if(!o&&l){n=v?n:new _r(this);var m=t.apply(n,u);return m.__actions__.push({func:qu,args:[c],thisArg:e}),new dr(m,h)}return d&&v?t.apply(this,u):(m=this.thru(c),d?i?m.value()[0]:m.value():m)}}),Wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=jt[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Li(_r.prototype,function(e,t){var n=Bn[t];if(n){var r=n.name+"",i=Hn[r]||(Hn[r]=[]);i.push({name:t,func:n})}}),Hn[Us(e,r).name]=[{name:"wrapper",func:e}],_r.prototype.clone=Dr,_r.prototype.reverse=Pr,_r.prototype.value=Hr,Bn.prototype.at=Ru,Bn.prototype.chain=Uu,Bn.prototype.commit=zu,Bn.prototype.flatMap=Wu,Bn.prototype.next=Xu,Bn.prototype.plant=$u,Bn.prototype.reverse=Ju,Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=Ku,Zt&&(Bn.prototype[Zt]=Vu),Bn}var e,t="4.2.0",n=1,r=2,i=4,s=8,o=16,u=32,a=64,f=128,l=256,c=512,h=1,p=2,d=30,v="...",m=150,g=16,y=200,b=1,w=2,E=3,S="Expected a function",x="__lodash_hash_undefined__",T=1/0,N=9007199254740991,C=1.7976931348623157e308,k=0/0,L=4294967295,A=L-1,O=L>>>1,M="__lodash_placeholder__",_="[object Arguments]",D="[object Array]",P="[object Boolean]",H="[object Date]",B="[object Error]",j="[object Function]",F="[object GeneratorFunction]",I="[object Map]",q="[object Number]",R="[object Object]",U="[object RegExp]",z="[object Set]",W="[object String]",X="[object Symbol]",V="[object WeakMap]",$="[object ArrayBuffer]",J="[object Float32Array]",K="[object Float64Array]",Q="[object Int8Array]",G="[object Int16Array]",Y="[object Int32Array]",Z="[object Uint8Array]",et="[object Uint8ClampedArray]",tt="[object Uint16Array]",nt="[object Uint32Array]",rt=/\b__p \+= '';/g,it=/\b(__p \+=) '' \+/g,st=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39|#96);/g,ut=/[&<>"'`]/g,at=RegExp(ot.source),ft=RegExp(ut.source),lt=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,ht=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,mt=/[\\^$.*+?()[\]{}|]/g,gt=RegExp(mt.source),yt=/^\s+|\s+$/g,bt=/^\s+/,wt=/\s+$/,Et=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,Tt=/^0x/i,Nt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,kt=/^\[object .+?Constructor\]$/,Lt=/^0o[0-7]+$/i,At=/^(?:0|[1-9]\d*)$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Mt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",Pt="\\u0300-\\u036f\\ufe20-\\ufe23",Ht="\\u20d0-\\u20f0",Bt="\\u2700-\\u27bf",jt="a-z\\xdf-\\xf6\\xf8-\\xff",Ft="\\xac\\xb1\\xd7\\xf7",It="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qt="\\u2018\\u2019\\u201c\\u201d",Rt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",zt="\\ufe0e\\ufe0f",Wt=Ft+It+qt+Rt,Xt="["+Dt+"]",Vt="["+Wt+"]",$t="["+Pt+Ht+"]",Jt="\\d+",Kt="["+Bt+"]",Qt="["+jt+"]",Gt="[^"+Dt+Wt+Jt+Bt+jt+Ut+"]",Yt="\\ud83c[\\udffb-\\udfff]",Zt="(?:"+$t+"|"+Yt+")",en="[^"+Dt+"]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+Ut+"]",sn="\\u200d",on="(?:"+Qt+"|"+Gt+")",un="(?:"+rn+"|"+Gt+")",an=Zt+"?",fn="["+zt+"]?",ln="(?:"+sn+"(?:"+[en,tn,nn].join("|")+")"+fn+an+")*",cn=fn+an+ln,hn="(?:"+[Kt,tn,nn].join("|")+")"+cn,pn="(?:"+[en+$t+"?",$t,tn,nn,Xt].join("|")+")",dn=RegExp($t,"g"),vn=RegExp(Yt+"(?="+Yt+")|"+pn+cn,"g"),mn=RegExp("["+sn+Dt+Pt+Ht+zt+"]"),gn=/[a-zA-Z0-9]+/g,yn=RegExp([rn+"?"+Qt+"+(?="+[Vt,rn,"$"].join("|")+")",un+"+(?="+[Vt,rn+on,"$"].join("|")+")",rn+"?"+on+"+",rn+"+",Jt,hn].join("|"),"g"),bn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,Sn={};Sn[J]=Sn[K]=Sn[Q]=Sn[G]=Sn[Y]=Sn[Z]=Sn[et]=Sn[tt]=Sn[nt]=!0,Sn[_]=Sn[D]=Sn[$]=Sn[P]=Sn[H]=Sn[B]=Sn[j]=Sn[I]=Sn[q]=Sn[R]=Sn[U]=Sn[z]=Sn[W]=Sn[V]=!1;var xn={};xn[_]=xn[D]=xn[$]=xn[P]=xn[H]=xn[J]=xn[K]=xn[Q]=xn[G]=xn[Y]=xn[I]=xn[q]=xn[R]=xn[U]=xn[z]=xn[W]=xn[X]=xn[Z]=xn[et]=xn[tt]=xn[nt]=!0,xn[B]=xn[j]=xn[V]=!1;var Tn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},kn={"function":!0,object:!0},Ln={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,On=parseInt,Mn=kn[typeof exports]&&exports&&!exports.nodeType?exports:null,_n=kn[typeof module]&&module&&!module.nodeType?module:null,Dn=dr(Mn&&_n&&typeof global=="object"&&global),Pn=dr(kn[typeof self]&&self),Hn=dr(kn[typeof window]&&window),Bn=_n&&_n.exports===Mn?Mn:null,jn=dr(kn[typeof this]&&this),Fn=Dn||Hn!==(jn&&jn.window)&&Hn||Pn||jn||Function("return this")(),Mr=Or();(Hn||Pn||{})._=Mr,typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("underscore/lodash",[],function(){return Mr}):Mn&&_n?(Bn&&((_n.exports=Mr)._=Mr),Mn._=Mr):Fn._=Mr}.call(this),define("underscore/index",["require","exports","module","./lodash"],function(e,t,n){n.exports=e("./lodash")}),define("underscore",["underscore/index"],function(e){return e}),function(e,t){var n,r=function(e,t){return new r.fn.init(e,t,n)};r.fn=r.prototype={jquery:core_version},e.jQuery=e.$=r}(window),define("jquery",function(e){return function(){var t,n;return t||e.jQuery}}(this)),function(e){var t=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define=="function"&&define.amd)define("backbone/backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore"),r;try{r=require("jquery")}catch(i){}e(t,exports,n,r)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,s=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],a(e,this),i)};case 4:return function(e,i,s){return n[t](this[r],a(e,this),i,s)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},u=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=o(t,i,r))})},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?f(e):n.isString(e)?function(t){return t.get(e)}:e},f=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},c=/\s+/,h=function(e,t,r,i,s){var o=0,u;if(r&&typeof r=="object"){i!==void 0&&"context"in s&&s.context===void 0&&(s.context=i);for(u=n.keys(r);o<u.length;o++)t=h(e,t,u[o],r[u[o]],s)}else if(r&&c.test(r))for(u=r.split(c);o<u.length;o++)t=e(t,u[o],i,s);else t=e(t,r,i,s);return t};l.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){e._events=h(d,e._events||{},t,n,{context:r,ctx:e,listening:i});if(i){var s=e._listeners||(e._listeners={});s[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[i];if(!o){var u=this._listenId||(this._listenId=n.uniqueId("l"));o=s[i]={obj:e,objId:i,id:u,listeningTo:s,count:0}}return p(e,t,r,this,o),this};var d=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),s=r.context,o=r.ctx,u=r.listening;u&&u.count++,i.push({callback:n,context:s,ctx:s||o,listening:u})}return e};l.off=function(e,t,n){return this._events?(this._events=h(v,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=e?[e._listenId]:n.keys(i);for(var o=0;o<s.length;o++){var u=i[s[o]];if(!u)break;u.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var v=function(e,t,r,i){if(!e)return;var s=0,o,u=i.context,a=i.listeners;if(!t&&!r&&!u){var f=n.keys(a);for(;s<f.length;s++)o=a[f[s]],delete a[o.id],delete o.listeningTo[o.objId];return}var l=t?[t]:n.keys(e);for(;s<l.length;s++){t=l[s];var c=e[t];if(!c)break;var h=[];for(var p=0;p<c.length;p++){var d=c[p];r&&r!==d.callback&&r!==d.callback._callback||u&&u!==d.context?h.push(d):(o=d.listening,o&&--o.count===0&&(delete a[o.id],delete o.listeningTo[o.objId]))}h.length?e[t]=h:delete e[t]}if(n.size(e))return e};l.once=function(e,t,r){var i=h(m,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},l.listenToOnce=function(e,t,r){var i=h(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var s=e[t]=n.once(function(){i(t,s),r.apply(this,arguments)});s._callback=r}return e};l.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1),n=Array(t);for(var r=0;r<t;r++)n[r]=arguments[r+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],s=e.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var b=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(e==null)return this;var i;typeof e=="object"?(i=e,r=t):(i={})[e]=t,r||(r={});if(!this._validate(i,r))return!1;var s=r.unset,o=r.silent,u=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=n.clone(this.attributes),this.changed={});var f=this.attributes,l=this.changed,c=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(f[h],t)||u.push(h),n.isEqual(c[h],t)?delete l[h]:l[h]=t,s?delete f[h]:f[h]=t;this.id=this.get(this.idAttribute);if(!o){u.length&&(this._pending=r);for(var p=0;p<u.length;p++)this.trigger("change:"+u[p],this,f[u[p]],r)}if(a)return this;if(!o)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var s=e[i];if(n.isEqual(t[i],s))continue;r[i]=s}return n.size(r)?r:!1},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,u=r.success,a=this.attributes;r.success=function(e){o.attributes=a;var t=r.parse?o.parse(e,r):e;s&&(t=n.extend({},i,t));if(t&&!o.set(t,r))return!1;u&&u.call(r.context,o,e,r),o.trigger("sync",o,e,r)},R(this,r),i&&s&&(this.attributes=n.extend({},a,i));var f=this.isNew()?"create":r.patch?"patch":"update";f==="patch"&&!r.attrs&&(r.attrs=i);var l=this.sync(f,this,r);return this.attributes=a,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,s=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&s(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(R(this,e),o=this.sync("delete",this,e)),i||s(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};u(b,w,"attributes");var E=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},T=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r=Array(e.length-n),i=t.length;for(var s=0;s<r.length;s++)r[s]=e[s+n];for(s=0;s<i;s++)e[s+n]=t[s];for(s=0;s<r.length;s++)e[s+i+n]=r[s]};n.extend(E.prototype,l,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(e==null)return;t=n.defaults({},t,S),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;i!=null&&(i=+i),i<0&&(i+=this.length+1);var s=[],o=[],u=[],a={},f=t.add,l=t.merge,c=t.remove,h=!1,p=this.comparator&&i==null&&t.sort!==!1,d=n.isString(this.comparator)?this.comparator:null,v;for(var m=0;m<e.length;m++){v=e[m];var g=this.get(v);if(g){if(l&&v!==g){var y=this._isModel(v)?v.attributes:v;t.parse&&(y=g.parse(y,t)),g.set(y,t),p&&!h&&(h=g.hasChanged(d))}a[g.cid]||(a[g.cid]=!0,s.push(g)),e[m]=g}else f&&(v=e[m]=this._prepareModel(v,t),v&&(o.push(v),this._addReference(v,t),a[v.cid]=!0,s.push(v)))}if(c){for(m=0;m<this.length;m++)v=this.models[m],a[v.cid]||u.push(v);u.length&&this._removeModels(u,t)}var b=!1,w=!p&&f&&c;s.length&&w?(b=this.length!=s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,T(this.models,s,0),this.length=this.models.length):o.length&&(p&&(h=!0),T(this.models,o,i==null?this.length:i),this.length=this.models.length),h&&this.sort({silent:!0});if(!t.silent){for(m=0;m<o.length;m++)i!=null&&(t.index=i+m),v=o[m],v.trigger("add",v,this,t);(h||b)&&this.trigger("sort",this,t),(o.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),r===1||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;e=this._prepareModel(e,t);if(!e)return!1;r||this.add(e,t);var i=this,s=t.success;return t.success=function(e,t,n){r&&i.add(e,n),s&&s.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){var n=[];for(var r=0;r<e.length;r++){var i=this.get(e[r]);if(!i)continue;var s=this.indexOf(i);this.models.splice(s,1),this.length--,t.silent||(t.index=s,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}return n.length?n:!1},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);n!=null&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);n!=null&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(e==="change"){var i=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);i!==s&&(i!=null&&delete this._byId[i],s!=null&&(this._byId[s]=t))}this.trigger.apply(this,arguments)}});var N={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};u(E,N,"models");var C=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];n.extend(C.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){e||(e=n.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[r]);if(!r)continue;var i=t.match(k);this.delegate(i[1],i[2],n.bind(r,this))}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var s=A[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||q()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1);var a=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,a&&a.call(i.context,e,t,n)};var f=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,f,i),f};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,_=/(\(\?)?:\w+/g,D=/\*\w+/g,P=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(O.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(P,"\\$&").replace(M,"(?:$1)?").replace(_,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var H=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,F=/#.*$/;H.started=!1,n.extend(H.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){return e==null&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(B,"")},start:function(e){if(H.started)throw new Error("Backbone.history has already been started");H.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!this.history&&!!this.history.pushState,this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(j,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})):!1},navigate:function(e,t){if(!H.started)return!1;if(!t||t===!0)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?")n=n.slice(0,-1)||"/";var r=n+e;e=this.decodeFragment(e.replace(F,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new H;var I=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};b.extend=E.extend=O.extend=C.extend=H.extend=I;var q=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),define("backbone",["backbone/backbone"],function(e){return e}),function(){function t(){}function n(e){return e}function r(e){return!!e}function i(e){return!e}function u(e){return function(){if(e===null)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function a(e){return function(){if(e===null)return;e.apply(this,arguments),e=null}}function h(e){return l(e)||typeof e.length=="number"&&e.length>=0&&e.length%1===0}function p(e,t){var n=-1,r=e.length;while(++n<r)t(e[n],n,e)}function d(e,t){var n=-1,r=e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function v(e){return d(Array(e),function(e,t){return t})}function m(e,t,n){return p(e,function(e,r,i){n=t(n,e,r,i)}),n}function g(e,t){p(b(e),function(n){t(e[n],n)})}function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function w(e){var t=-1,n,r;return h(e)?(n=e.length,function(){return t++,t<n?t:null}):(r=b(e),n=r.length,function(){return t++,t<n?r[t]:null})}function E(e,t){return t=t==null?e.length-1:+t,function(){var n=Math.max(arguments.length-t,0),r=Array(n);for(var i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function S(e){return function(t,n,r){return e(t,r)}}function N(e){return function(n,r,i){i=a(i||t),n=n||[];var s=w(n);if(e<=0)return i(null);var o=!1,f=0,l=!1;(function c(){if(o&&f<=0)return i(null);while(f<e&&!l){var t=s();if(t===null){o=!0,f<=0&&i(null);return}f+=1,r(n[t],t,u(function(e){f-=1,e?(i(e),l=!0):c()}))}})()}}function C(t){return function(n,r,i){return t(e.eachOf,n,r,i)}}function k(e){return function(t,n,r,i){return e(N(n),t,r,i)}}function L(t){return function(n,r,i){return t(e.eachOfSeries,n,r,i)}}function A(e,n,r,i){i=a(i||t),n=n||[];var s=h(n)?[]:{};e(n,function(e,t,n){r(e,function(e,r){s[t]=r,n(e)})},function(e){i(e,s)})}function O(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n){n&&i.push({index:t,value:e}),r()})},function(){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function M(e,t,n,r){O(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function _(e,t,n){return function(r,i,s,o){function u(){o&&o(n(!1,void 0))}function a(e,r,i){if(!o)return i();s(e,function(r){o&&t(r)&&(o(n(!0,e)),o=s=!1),i()})}arguments.length>3?e(r,i,a,u):(o=s,s=i,e(r,a,u))}}function D(e,t){return t}function P(e,n,r){r=r||t;var i=h(n)?[]:{};e(n,function(e,t,n){e(E(function(e,r){r.length<=1&&(r=r[0]),i[t]=r,n(e)}))},function(e){r(e,i)})}function H(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function B(n,r,i){function s(n,r,i,s){if(s!=null&&typeof s!="function")throw new Error("task callback must be a function");n.started=!0,l(r)||(r=[r]);if(r.length===0&&n.idle())return e.setImmediate(function(){n.drain()});p(r,function(e){var r={data:e,callback:s||t};i?n.tasks.unshift(r):n.tasks.push(r),n.tasks.length===n.concurrency&&n.saturated()}),e.setImmediate(n.process)}function o(e,t){return function(){a-=1;var n=!1,r=arguments;p(t,function(e){p(f,function(t,r){t===e&&!n&&(f.splice(r,1),n=!0)}),e.callback.apply(e,r)}),e.tasks.length+a===0&&e.drain(),e.process()}}if(r==null)r=1;else if(r===0)throw new Error("Concurrency must not be zero");var a=0,f=[],c={tasks:[],concurrency:r,payload:i,saturated:t,empty:t,drain:t,started:!1,paused:!1,push:function(e,t){s(c,e,!1,t)},kill:function(){c.drain=t,c.tasks=[]},unshift:function(e,t){s(c,e,!0,t)},process:function(){while(!c.paused&&a<c.concurrency&&c.tasks.length){var e=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),t=d(e,function(e){return e.data});c.tasks.length===0&&c.empty(),a+=1,f.push(e[0]);var r=u(o(c,e));n(t,r)}},length:function(){return c.tasks.length},running:function(){return a},workersList:function(){return f},idle:function(){return c.tasks.length+a===0},pause:function(){c.paused=!0},resume:function(){if(c.paused===!1)return;c.paused=!1;var t=Math.min(c.concurrency,c.tasks.length);for(var n=1;n<=t;n++)e.setImmediate(c.process)}};return c}function j(e){return E(function(t,n){t.apply(null,n.concat([E(function(t,n){typeof console=="object"&&(t?console.error&&console.error(t):console[e]&&p(n,function(t){console[e](t)}))})]))})}function F(e){return function(t,n,r){e(v(t),n,r)}}function I(e){return E(function(t,n){var r=E(function(n){var r=this,i=n.pop();return e(t,function(e,t,i){e.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function q(t){return E(function(n){var r=n.pop();n.push(function(){var t=arguments;i?e.setImmediate(function(){r.apply(null,t)}):r.apply(null,t)});var i=!0;t.apply(this,n),i=!1})}var e={},s,o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||this;o!=null&&(s=o.async),e.noConflict=function(){return o.async=s,e};var f=Object.prototype.toString,l=Array.isArray||function(e){return f.call(e)==="[object Array]"},c=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},b=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},x=typeof setImmediate=="function"&&setImmediate,T=x?function(e){x(e)}:function(e){setTimeout(e,0)};typeof process=="object"&&typeof process.nextTick=="function"?e.nextTick=process.nextTick:e.nextTick=T,e.setImmediate=x?T:e.nextTick,e.forEach=e.each=function(t,n,r){return e.eachOf(t,S(n),r)},e.forEachSeries=e.eachSeries=function(t,n,r){return e.eachOfSeries(t,S(n),r)},e.forEachLimit=e.eachLimit=function(e,t,n,r){return N(t)(e,S(n),r)},e.forEachOf=e.eachOf=function(e,n,r){function f(e){o--,e?r(e):s===null&&o<=0&&r(null)}r=a(r||t),e=e||[];var i=w(e),s,o=0;while((s=i())!=null)o+=1,n(e[s],s,u(f));o===0&&r(null)},e.forEachOfSeries=e.eachOfSeries=function(n,r,i){function f(){var t=!0;if(o===null)return i(null);r(n[o],o,u(function(n){if(n)i(n);else{o=s();if(o===null)return i(null);t?e.setImmediate(f):f()}})),t=!1}i=a(i||t),n=n||[];var s=w(n),o=s();f()},e.forEachOfLimit=e.eachOfLimit=function(e,t,n,r){N(t)(e,n,r)},e.map=C(A),e.mapSeries=L(A),e.mapLimit=k(A),e.inject=e.foldl=e.reduce=function(t,n,r,i){e.eachOfSeries(t,function(e,t,i){r(n,e,function(e,t){n=t,i(e)})},function(e){i(e,n)})},e.foldr=e.reduceRight=function(t,r,i,s){var o=d(t,n).reverse();e.reduce(o,r,i,s)},e.transform=function(t,n,r,i){arguments.length===3&&(i=r,r=n,n=l(t)?[]:{}),e.eachOf(t,function(e,t,i){r(n,e,t,i)},function(e){i(e,n)})},e.select=e.filter=C(O),e.selectLimit=e.filterLimit=k(O),e.selectSeries=e.filterSeries=L(O),e.reject=C(M),e.rejectLimit=k(M),e.rejectSeries=L(M),e.any=e.some=_(e.eachOf,r,n),e.someLimit=_(e.eachOfLimit,r,n),e.all=e.every=_(e.eachOf,i,i),e.everyLimit=_(e.eachOfLimit,i,i),e.detect=_(e.eachOf,n,D),e.detectSeries=_(e.eachOfSeries,n,D),e.detectLimit=_(e.eachOfLimit,n,D),e.sortBy=function(t,n,r){function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}e.map(t,function(e,t){n(e,function(n,r){n?t(n):t(null,{value:e,criteria:r})})},function(e,t){if(e)return r(e);r(null,d(t.sort(i),function(e){return e.value}))})},e.auto=function(n,r,i){function d(e){h.unshift(e)}function v(e){var t=y(h,e);t>=0&&h.splice(t,1)}function w(){o--,p(h.slice(0),function(e){e()})}typeof arguments[1]=="function"&&(i=r,r=null),i=a(i||t);var s=b(n),o=s.length;if(!o)return i(null);r||(r=o);var u={},f=0,c=!1,h=[];d(function(){o||i(null,u)}),p(s,function(t){function b(){return f<r&&m(a,function(e,t){return e&&u.hasOwnProperty(t)},!0)&&!u.hasOwnProperty(t)}function S(){b()&&(f++,v(S),s[s.length-1](o,u))}if(c)return;var s=l(n[t])?n[t]:[n[t]],o=E(function(n,r){f--,r.length<=1&&(r=r[0]);if(n){var s={};g(u,function(e,t){s[t]=e}),s[t]=r,c=!0,i(n,s)}else u[t]=r,e.setImmediate(w)}),a=s.slice(0,s.length-1),h=a.length,p;while(h--){if(!(p=n[a[h]]))throw new Error("Has nonexistent dependency in "+a.join(", "));if(l(p)&&y(p,t)>=0)throw new Error("Has cyclic dependencies")}b()?(f++,s[s.length-1](o,u)):d(S)})},e.retry=function(t,n,r){function a(e,t){if(typeof t=="number")e.times=parseInt(t,10)||i;else{if(typeof t!="object")throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||i,e.interval=parseInt(t.interval,10)||s}}function l(t,n){function r(e,t){return function(r){e(function(e,n){r(!e||t,{err:e,result:n})},n)}}function i(e){return function(t){setTimeout(function(){t(null)},e)}}while(u.times){var s=!(u.times-=1);o.push(r(u.task,s)),!s&&u.interval>0&&o.push(i(u.interval))}e.series(o,function(e,n){n=n[n.length-1],(t||u.callback)(n.err,n.result)})}var i=5,s=0,o=[],u={times:i,interval:s},f=arguments.length;if(f<1||f>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return f<=2&&typeof t=="function"&&(r=n,n=t),typeof t!="function"&&a(u,t),u.callback=r,u.task=n,u.callback?l():l},e.waterfall=function(n,r){function s(e){return E(function(t,n){if(t)r.apply(null,[t].concat(n));else{var i=e.next();i?n.push(s(i)):n.push(r),q(e).apply(null,n)}})}r=a(r||t);if(!l(n)){var i=new Error("First argument to waterfall must be an array of functions");return r(i)}if(!n.length)return r();s(e.iterator(n))()},e.parallel=function(t,n){P(e.eachOf,t,n)},e.parallelLimit=function(e,t,n){P(N(t),e,n)},e.series=function(t,n){P(e.eachOfSeries,t,n)},e.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},e.apply=E(function(e,t){return E(function(n){return e.apply(null,t.concat(n))})}),e.concat=C(H),e.concatSeries=L(H),e.whilst=function(e,n,r){r=r||t;if(e()){var i=E(function(t,s){t?r(t):e.apply(this,s)?n(i):r.apply(null,[null].concat(s))});n(i)}else r(null)},e.doWhilst=function(t,n,r){var i=0;return e.whilst(function(){return++i<=1||n.apply(this,arguments)},t,r)},e.until=function(t,n,r){return e.whilst(function(){return!t.apply(this,arguments)},n,r)},e.doUntil=function(t,n,r){return e.doWhilst(t,function(){return!n.apply(this,arguments)},r)},e.during=function(e,n,r){r=r||t;var i=E(function(t,n){t?r(t):(n.push(s),e.apply(this,n))}),s=function(e,t){e?r(e):t?n(i):r(null)};e(s)},e.doDuring=function(t,n,r){var i=0;e.during(function(e){i++<1?e(null,!0):n.apply(this,arguments)},t,r)},e.queue=function(e,t){var n=B(function(t,n){e(t[0],n)},t,1);return n},e.priorityQueue=function(n,r){function i(e,t){return e.priority-t.priority}function s(e,t,n){var r=-1,i=e.length-1;while(r<i){var s=r+(i-r+1>>>1);n(t,e[s])>=0?r=s:i=s-1}return r}function o(n,r,o,u){if(u!=null&&typeof u!="function")throw new Error("task callback must be a function");n.started=!0,l(r)||(r=[r]);if(r.length===0)return e.setImmediate(function(){n.drain()});p(r,function(r){var a={data:r,priority:o,callback:typeof u=="function"?u:t};n.tasks.splice(s(n.tasks,a,i)+1,0,a),n.tasks.length===n.concurrency&&n.saturated(),e.setImmediate(n.process)})}var u=e.queue(n,r);return u.push=function(e,t,n){o(u,e,t,n)},delete u.unshift,u},e.cargo=function(e,t){return B(e,1,t)},e.log=j("log"),e.dir=j("dir"),e.memoize=function(t,r){var i={},s={},o=Object.prototype.hasOwnProperty;r=r||n;var u=E(function(u){var a=u.pop(),f=r.apply(null,u);o.call(i,f)?e.setImmediate(function(){a.apply(null,i[f])}):o.call(s,f)?s[f].push(a):(s[f]=[a],t.apply(null,u.concat([E(function(e){i[f]=e;var t=s[f];delete s[f];for(var n=0,r=t.length;n<r;n++)t[n].apply(null,e)})])))});return u.memo=i,u.unmemoized=t,u},e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},e.times=F(e.map),e.timesSeries=F(e.mapSeries),e.timesLimit=function(t,n,r,i){return e.mapLimit(v(t),n,r,i)},e.seq=function(){var n=arguments;return E(function(r){var i=this,s=r[r.length-1];typeof s=="function"?r.pop():s=t,e.reduce(n,r,function(e,t,n){t.apply(i,e.concat([E(function(e,t){n(e,t)})]))},function(e,t){s.apply(i,[e].concat(t))})})},e.compose=function(){return e.seq.apply(null,Array.prototype.reverse.call(arguments))},e.applyEach=I(e.eachOf),e.applyEachSeries=I(e.eachOfSeries),e.forever=function(e,n){function s(e){if(e)return r(e);i(s)}var r=u(n||t),i=q(e);s()},e.ensureAsync=q,e.constant=E(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),e.wrapSync=e.asyncify=function(t){return E(function(e){var n=e.pop(),r;try{r=t.apply(this,e)}catch(i){return n(i)}c(r)&&typeof r.then=="function"?r.then(function(e){n(null,e)})["catch"](function(e){n(e.message?e:new Error(e))}):n(null,r)})},typeof module=="object"&&module.exports?module.exports=e:typeof define=="function"&&define.amd?define("async/async",[],function(){return e}):o.async=e}(),define("async",["async/async"],function(e){return e}),define("rendr/shared/store/memory_store",["require","exports","module"],function(e,t,n){function r(e){this.options=e||{},this.app=this.options.app,this.modelUtils=this.options.modelUtils,this.cache={}}n.exports=r,r.prototype.cacheVersion="",r.prototype.get=function(e){if(!e)return;return this.validateExpiration(e,this._get(e))},r.prototype.validateExpiration=function(e,t){return t&&t.expires&&Date.now()>t.expires?(typeof console!="undefined"&&console.log('MemoryStore: Expiring key "'+e+'".'),this.clear(e),t=undefined):t&&t.value&&(t=t.value),t},r.prototype.set=function(e,t,n){var r;return!e||t===undefined?!1:(r=n?Date.now()+n*1e3:null,this._set(e,{value:t,expires:r}),!0)},r.prototype._get=function(e){return this.cache[this._formatKey(e)]},r.prototype._set=function(e,t){this.cache[this._formatKey(e)]=t},r.prototype._clear=function(e){delete this.cache[this._formatKey(e)]},r.prototype._clearAll=function(){this.cache={}},r.prototype.clear=function(e){return e!=null?this._clear(e):this._clearAll()},r.prototype._versionKey=function(e){return e+":"+this.cacheVersion},r.prototype._formatKey=function(e){return this._versionKey(e)}}),define("rendr/shared/store/model_store",["require","exports","module","underscore","./memory_store"],function(e,t,n){function s(){i.apply(this,arguments)}function o(e){return function(t){return u(t,e)}}function u(e,t){return e.slice(0,t.length)==t}function a(e,t){return r.all(e,function(e,n){return t[n]==e})}var r=e("underscore"),i=e("./memory_store");n.exports=s,r.extend(s.prototype,i.prototype,{expireSeconds:null,set:function(e){var t,n;n=this.modelUtils.modelName(e.constructor);if(n==null)throw new Error("Undefined modelName for model");return t=this._getModelStoreKey(n,e.id),e.parse(e.attributes),i.prototype.set.call(this,t,e,this.expireSeconds)},get:function(e,t){var n,r;return n=this._getModelStoreKey(e,t),i.prototype.get.call(this,n)},clear:function(e,t){if(e&&t){var n=this._getModelStoreKey(e,t);return i.prototype.clear.call(this,n)}if(!e||!!t)return i.prototype.clear.call(this,null);var s=this._getCachedItemsByModel(e),o=this,u;r.each(s,function(t){u=o._getModelStoreKey(e,t.value.id),i.prototype.clear.call(o,u)})},find:function(e,t){var n=this._formatKey(this._keyPrefix(e)),s=Object.keys(this.cache),u=s.filter(o(n)),f=this,l;l=r.find(u,function(n){var r=f.cache[n].value,s=f._getModelStoreKey(e,r.id),o=i.prototype.get.call(f,s);return o&&a(t,o.toJSON())});if(l)return this.cache[l].value},_getCachedItemsByModel:function(e){var t=this._formatKey(this._keyPrefix(e));return r.filter(this.cache,function(e,n){return u(n,t)})},_formatKey:function(e){return i.prototype._formatKey.call(this,"_ms:"+e)},_keyPrefix:function(e){return this.modelUtils.underscorize(e)},_getModelStoreKey:function(e,t){return this._keyPrefix(e)+":"+t}})}),define("rendr/shared/store/collection_store",["require","exports","module","underscore","./memory_store"],function(e,t,n){function s(){i.apply(this,arguments)}function o(e){var t={};return r.chain(e).keys().sort().forEach(function(n){t[n]=e[n]}),t}function u(e,t){return e.slice(0,t.length)==t}var r=e("underscore"),i=e("./memory_store");n.exports=s,r.extend(s.prototype,i.prototype,{expireSeconds:null,set:function(e,t){var n=this._getStoreKeyForCollection(e,t);return i.prototype.set.call(this,n,e,this.expireSeconds)},get:function(e,t,n){var s=this,o;return this.mergeParams(e,t,function(t){var u=s._getStoreKey(e,t);o=i.prototype.get.call(s,u),r.isFunction(n)&&n(o)}),o},clear:function(e,t){if(!r.isUndefined(e)&&t){var n=this._getStoreKey(e,t);return i.prototype.clear.call(this,n)}if(!!r.isUndefined(e)||!!t)return i.prototype.clear.call(this,null);var s=this._getCachedItemsByCollection(e),o=this,u;r.each(s,function(t){u=o._getStoreKey(e,t.value.params),i.prototype.clear.call(o,u)})},mergeParams:function(e,t,n){this.modelUtils.getCollectionConstructor(e,function(e){var i=r.extend({},e.prototype.defaultParams,t);n(i)})},_getCachedItemsByCollection:function(e){var t=this._formatKey(this.modelUtils.underscorize(e));return r.filter(this.cache,function(e,n){return u(n,t)})},_getStoreKeyForCollection:function(e,t){var n=this.modelUtils.modelName(e.constructor);return t=t||e.params,this._getStoreKey(n,t)},_getStoreKey:function(e,t){var n=this.modelUtils.underscorize(e);return n+":"+JSON.stringify(o(t))}})}),define("rendr/shared/fetcher",["require","exports","module","underscore","backbone","async","./store/model_store","./store/collection_store","jquery"],function(e,t,n){function f(e){this.options=e,this.app=this.options.app,this.modelUtils=this.app.modelUtils,this.modelStore=new o({app:this.app,modelUtils:this.modelUtils}),this.collectionStore=new u({app:this.app,modelUtils:this.modelUtils})}var r=e("underscore"),i=e("backbone"),s=e("async"),o=e("./store/model_store"),u=e("./store/collection_store"),a=typeof window=="undefined";a||(i.$=window.$||e("jquery")),n.exports=f,f.prototype.buildOptions=function(e,t){var n={app:this.app,parse:!0};return r.defaults(n,e),r.defaults(n,t),n},f.prototype.getModelOrCollectionForSpec=function(e,t,n,r){return e.model?this.getModelForSpec(e,t,n,r):this.getCollectionForSpec(e,t,n,r)},f.prototype.getCollectionForSpec=function(e,t,n,i){var s=this.buildOptions(n,r.extend({params:e.params},e.params));return t=t||[],this.modelUtils.getCollection(e.collection,t,s,i)},f.prototype.getModelForSpec=function(e,t,n,i){var s=this.buildOptions(n);return t=t||{},r.defaults(t,e.params),this.modelUtils.getModel(e.model,t,s,i)},f.prototype._retrieve=function(e,t,n){var i={};r.each(e,function(e,n){i[n]=function(n){var i,s=t.readFromCache;!r.isUndefined(e.readFromCache)&&!r.isNull(e.readFromCache)&&(s=e.readFromCache),s?(i=null,e.model!=null?this._retrieveModel(e,function(r,i){this._refreshData(e,i,t,n)}.bind(this)):e.collection!=null&&this.collectionStore.get(e.collection,e.params,function(r){this._refreshData(e,r,t,n)}.bind(this))):this.fetchFromApi(e,t,n)}.bind(this)},this),s.parallel(i,n)},f.prototype._refreshData=function(e,t,n,r){this.needsFetch(t,e)?this.fetchFromApi(e,n,r):r(null,t)},f.prototype._retrieveModel=function(e,t){var n=this;this.modelUtils.modelIdAttribute(e.model,function(i){var s=n.modelStore.get(e.model,e.params[i]);return s?t(null,s):r.isEmpty(r.omit(e.params,i))?t(null,null):t(null,n.modelStore.find(e.model,e.params))})},f.prototype.needsFetch=function(e,t){return e==null?!0:this.modelUtils.isModel(e)&&this.isMissingKeys(e.attributes,t.ensureKeys)?!0:t.needsFetch===!0?!0:typeof t.needsFetch=="function"&&t.needsFetch(e)?!0:!1},f.prototype.isMissingKeys=function(e,t){var n;if(t==null)return!1;r.isArray(t)||(t=[t]);for(var i=0,s=t.length;i<s;i++){n=t[i];if(e[n]==null)return!0}return!1},f.prototype.fetchFromApi=function(e,t,n){var r=this;this.getModelOrCollectionForSpec(e,null,t,function(i){i.fetch({headers:t.headers||{},timeout:t.timeout||0,data:e.params,success:function(e,t){n(null,e)},error:function(e,t,i){var s,o,u;s=t.body,t.body=typeof s=="string"?s.slice(0,150):s,o=JSON.stringify(t),u=new Error("ERROR fetching model '"+r.modelUtils.modelName(e.constructor)+"' with options '"+JSON.stringify(i)+"'. Response: "+o),u.status=t.status,u.body=s,n(u)}})})},f.prototype.retrieveModelsForCollectionName=function(e,t){var n=this.modelUtils.getModelNameForCollectionName(e);return this.retrieveModels(n,t)},f.prototype.retrieveModels=function(e,t){return t.map(function(t){return this.modelStore.get(e,t)},this)},f.prototype.summarize=function(e){var t={},n;return this.modelUtils.isCollection(e)?(n=e.model.prototype.idAttribute,t={collection:this.modelUtils.modelName(e.constructor),ids:e.pluck(n),params:e.params,meta:e.meta}):this.modelUtils.isModel(e)&&(t={model:this.modelUtils.modelName(e.constructor),id:e.id}),t},f.prototype.storeResults=function(e){r.each(e,function(e){e.store()})},f.prototype.bootstrapData=function(e,t){var n={},i=this;s.forEach(r.keys(e),function(t,s){var o=e[t];i.getModelOrCollectionForSpec(o.summary,o.data,r.pick(o.summary,"params","meta"),function(e){n[t]=e,s(null)})},function(e){r.isFunction(t)&&t(n)})},f.prototype.hydrate=function(e,t,n){var i={},o=this;arguments.length===2?(n=t,t={}):t=t||{},s.forEach(r.keys(e),function(n,r){var s=e[n];s.model!=null?(i[n]=o.modelStore.get(s.model,s.id),i[n]!=null&&t.app!=null&&(i[n].app=t.app),r(null)):s.collection!=null&&o.collectionStore.get(s.collection,s.params,function(e){if(e==null)throw new Error('Collection of type "'+s.collection+'" not found for params: '+JSON.stringify(s.params));i[n]=e,r(null)})},function(e){n(e,i)})},f.prototype.pendingFetches=0,f.prototype.fetch=function(e,t,n){var r=this;arguments.length===2?(n=t,t={}):t=t||{},a?(t.readFromCache==null&&(t.readFromCache=!1),t.writeToCache==null&&(t.writeToCache=!1)):(t.readFromCache==null&&(t.readFromCache=!0),t.writeToCache==null&&(t.writeToCache=!0)),this.pendingFetches++,this.trigger("fetch:start",e),this._retrieve(e,t,function(i,s){r.pendingFetches--,r.trigger("fetch:end",e,i,s);if(i)return n(i);t.writeToCache&&r.storeResults(s),n(null,s)})},r.extend(f.prototype,i.Events)}),define("rendr/shared/syncer",["require","exports","module","underscore","backbone","jquery"],function(e,t,n){function h(e,t,n){var s;return n=r.clone(n),r.isUndefined(n.data)||(n.data=r.clone(n.data)),n.url=this.getUrl(n.url,!0,n.data),s=n.error,s&&(n.error=function(e){var t=e.responseText,n=e.getResponseHeader("content-type"),r;if(n&&n.indexOf("application/json")!==-1)try{t=JSON.parse(t)}catch(i){}r={body:t,status:e.status},s(r)}),i.sync(e,t,n)}function p(e,t,n){var i,s,u,a,l;n=r.clone(n),r.isUndefined(n.data)||(n.data=r.clone(n.data)),n.url=this.getUrl(n.url,!1,n.data),u=o[e],s=n.url.split("?"),a=this.app.req,l=s[1]||"",r.isEmpty(n.data)||(l+="&"+f.stringify(n.data)),i={method:u,path:s[0],query:f.parse(l),headers:n.headers||{},api:r.result(this,"api"),body:{}};if(u==="POST"||u==="PUT")i.body=t.toJSON();a.dataAdapter.request(a,i,function(e,t,r){var i;if(e){i={body:r,status:e.status};if(!n.error)throw e;n.error(i)}else n.success(r)})}var r=e("underscore"),i=e("backbone"),s=/:([a-z_-]+)/ig,o={create:"POST",update:"PUT","delete":"DELETE",read:"GET"},u=typeof window=="undefined";if(u)var a="qs2",f=e(a);else{var l=window.$||e("jquery");i.$=l}var c=n.exports;c.clientSync=h,c.serverSync=p,c.sync=function(){var t=u?p:h;return t.apply(this,arguments)},c.getUrl=function(t,n,i){return n==null&&(n=!1),i=i||{},t=t||r.result(this,"url"),n&&!~t.indexOf("://")&&(t=this.formatClientUrl(t,r.result(this,"api"))),this.interpolateParams(this,t,i)},c.formatClientUrl=function(e,t){var n=this.app.get("apiPath")||"/api";return t&&(n+="/"+t),n+="/-",n+e},c.objectsDiffer=function(t,n){var i=!1,s,o,u,a;s=r.unique(r.keys(t).concat(r.keys(n)));for(var f=0,l=s.length;f<l;f++)o=s[f],u=t[o],a=n[o],r.isObject(u)&&r.isObject(a)?i=this.objectsDiffer(u,a):r.isEqual(u,a)||(i=!0);return i},c.interpolateParams=function(t,n,r){var i=n.match(s);return r=r||{},i&&i.forEach(function(e){var i=e.slice(1),s;t.length!=null?s=t.options[i]:s=t.get(i),n=n.replace(e,s),delete r[i]}),delete r[t.idAttribute],n}}),define("rendr/shared/base/model",["require","exports","module","underscore","backbone","../syncer","jquery"],function(e,t,n){var r=e("underscore"),i=e("backbone"),s=e("../syncer"),o=typeof window=="undefined";o||(i.$=window.$||e("jquery"));var u=i.Model.extend({constructor:function(e,t){this.options=t||{},this.app=this.options.app,!this.app&&this.options.collection&&(this.app=this.options.collection.app),i.Model.apply(this,arguments),this.store(),this.on("change:"+this.idAttribute,this.store,this)},parse:function(e){return e!=null&&this.jsonKey?e[this.jsonKey]||e:e},store:function(){this.id!==undefined&&this.app&&this.app.fetcher&&this.app.fetcher.modelStore.set(this)}});r.extend(u.prototype,s),n.exports=u}),define("rendr/shared/base/collection",["require","exports","module","underscore","backbone","../syncer","./model","jquery"],function(e,t,n){var r=e("underscore"),i=e("backbone"),s=e("../syncer"),o=e("./model"),u=i.Collection,a=typeof window=="undefined";a||(i.$=window.$||e("jquery"));var f=u.extend({model:o,params:undefined,meta:undefined,defaultParams:null,constructor:function(e,t){this.options=t||{},this.app=this.options.app,this.params=this.options.params||{},r.defaults(this.params,this.defaultParams||{}),this.meta={},r.isObject(this.options.meta)&&(r.extend(this.meta,this.options.meta),delete this.options.meta),u.apply(this,arguments),this.store()},_prepareModel:function(){var e;return e=u.prototype._prepareModel.apply(this,arguments),e.app=this.app,e},parse:function(e,t){var n,i,s;return t==null&&(t=!0),e!=null&&this.jsonKey&&(n=e[this.jsonKey])?(t&&(i=r.omit(e,this.jsonKey),r.extend(this.meta,i)),s=n):s=e,this.parseModels(s)},parseModels:function(e){var t,n;return e=r.clone(e),t=this.model.prototype.jsonKey,r.each(e,function(r,i){n=r[t],n&&(e[i]=n)}),e},fetch:function(e){return e=e||{},e.data&&(r.defaults(e.data,this.defaultParams||{}),this.params=e.data),u.prototype.fetch.apply(this,arguments)},store:function(){this.app&&this.app.fetcher&&(this.each(function(e){e.store()}),this.app.fetcher.collectionStore.set(this))}});r.extend(f.prototype,s),n.exports=f}),define("rendr/shared/modelUtils",["require","exports","module","./base/model","./base/collection"],function(e,t,n){function o(e){this.entryPath=e,this._classMap={}}var r=e("./base/model"),i=e("./base/collection"),s={model:"app/models/",collection:"app/collections/"};n.exports=o,o.prototype.getModel=function(e,t,n,r){var i;t=t||{},n=n||{};if(typeof r!="function")return i=this.getModelConstructor(e),new i(t,n);this.getModelConstructor(e,function(e){r(new e(t,n))})},o.prototype.getCollection=function(e,t,n,r){var i;t=t||[],n=n||{};if(typeof r!="function")return i=this.getCollectionConstructor(e),new i(t,n);this.getCollectionConstructor(e,function(e){r(new e(t,n))})},o.prototype.getModelConstructor=function(e,t){return this.fetchConstructor("model",e,t)},o.prototype.getCollectionConstructor=function(e,t){return this.fetchConstructor("collection",e,t)},o.prototype.getFullPath=function(e,t){return this.entryPath+s[e]+t},o.prototype.fetchConstructor=function(e,t,n){t=this.underscorize(t);var r=this.getFullPath(e,t);if(this._classMap[t])return typeof n=="function"?n(this._classMap[t]):this._classMap[t];if(typeof n=="function"){typeof define!="undefined"?this._requireAMD([r],n):n(this._require(r));return}return this._require(r)},o.prototype._require=e,o.prototype._requireAMD=e,o.prototype.isModel=function(e){return e instanceof r},o.prototype.isCollection=function(e){return e instanceof i},o.prototype.getModelNameForCollectionName=function(e){var t;return t=this.getCollectionConstructor(e),this.modelName(t.prototype.model)},o.uppercaseRe=/([A-Z])/g,o.prototype.underscorize=function(e){return e==null?undefined:(e=e.replace(o.uppercaseRe,function(e){return"_"+e.toLowerCase()}),e[0]==="_"&&(e=e.slice(1)),e)},o.prototype.modelName=function(e){return this.underscorize(e.id||e.name)},o.prototype.modelIdAttribute=function(e,t){this.getModelConstructor(e,function(e){t(e.prototype.idAttribute)})}}),define("rendr/shared/base/router",["require","exports","module","underscore","backbone","jquery"],function(e,t,n){function a(e){var t=e.split("#");return{controller:t[0],action:t[1]}}function f(e){return e.reduce(function(e,t){return r.isString(t)&&(t=a(t)),r.extend(e,t)},{})}function l(e){this.route=this.route.bind(this),this._routes=[],this._initOptions(e)}var r=e("underscore"),i=e("backbone"),s=typeof window=="undefined",o=!s&&typeof define!="undefined",u=0;s||(i.$=window.$||e("jquery")),r.extend(l.prototype,i.Events,{options:null,_routes:null,reverseRoutes:!1,initialize:r.noop,_initOptions:function(e){var t;e=e||{},e.paths=e.paths||{},t=e.paths.entryPath||e.entryPath,e.paths=r.defaults(e.paths,{entryPath:t,routes:t+"app/routes",controllerDir:t+"app/controllers"}),this.options=e},getControllerPath:function(e){var t=this.options.paths.controllerDir;return t+"/"+e+"_controller"},loadController:function(t){var n=this.getControllerPath(t);return e(n)},getAction:function(e){var t,n;return e.controller&&(o?n=this.getControllerPath(e.controller):(t=this.loadController(e.controller),n=t[e.action])),n},getRedirect:function(e,t){var n=e.redirect;return typeof n=="function"&&(n=n(t)),n},getRouteBuilder:function(){return e(this.options.paths.routes)},buildRoutes:function(){function n(){t.push(r.toArray(arguments))}var e=this.getRouteBuilder(),t=[];return e(n),this.reverseRoutes&&(t=t.reverse()),t.forEach(this.addRouteDefinition,this),this.routes()},addRouteDefinition:function(e){try{this.route.apply(this,e)}catch(t){throw t.message="Error building routes ("+t.message+")",t}},routes:function(){return this._routes.slice().map(function(e){return e.slice()})},route:function(e,t,n){var r,i,o,a,l,c=this;return a=f([t,n]),r=this.getAction(a),s?i=r:i=function(e,t){function s(){i===u&&t.apply(n,arguments)}var n=this,i=++u;typeof r=="string"?c._requireAMD([r],function(t){if(typeof t[a.action]!="function")throw new Error('Missing action "'+a.action+'" for controller "'+a.controller+'"');t[a.action].call(n,e,s)}):r.call(n,e,s)},!(e instanceof RegExp)&&e.slice(0,1)!=="/"&&(e="/"+e),o=this.getHandler(i,e,a),l=[e,a,o],this._routes.push(l),this.trigger("route:add",l),l},_requireAMD:e,defaultHandlerParams:function(e,t,n){return typeof e!="string"&&(t=e,e=n.controller+"/"+n.action),[e,t]},getHandler:r.noop}),n.exports=l,n.exports.setAMDEnvironment=function(e){o=e}}),define("rendr/shared/base/view",["require","exports","module","underscore","backbone","async","jquery"],function(e,t,n){var r=e,i=e("underscore"),s=e("backbone"),o=e("async"),u=typeof window=="undefined",a;u||(s.$=window.$||e("jquery")),n.exports=a=s.View.extend({constructor:function(e){this.options=i.extend(this.options||{},e||{}),this.parseOptions(e),this.name=this.name||this.app.modelUtils.underscorize(this.constructor.id||this.constructor.name),s.View.call(this,i.omit(e,["model","collection"])),this.render=this.render.bind(this)},parseOptions:function(e){var t;e=i.extend(this.options,e||{});if(e.app==null)throw new Error("options.app expected when initializing a new view");this.app=this.options.app,e.parentView!=null&&(this.parentView=e.parentView),e=a.parseModelAndCollection(this.app.modelUtils,i.extend({parse:!0},e)),this.model=e.model,this.collection=e.collection},name:null,parentView:null,childViews:null,viewing:!1,getChildViewsByName:function(e){return i.where(this.childViews,{name:e})},getTemplateData:function(){var e,t;return this.model?e=this.model.toJSON():this.collection&&(e={models:this.collection.toJSON(),meta:this.collection.meta,params:this.collection.params}),t=i.omit(this.options,["model","collection","app"]),i.extend({},e,t)},decorateTemplateData:function(e){return this.app&&(e._app=this.app),this.model&&(e._model=this.model),this.collection&&(e._collection=this.collection),e._view=this,e},getTemplateName:function(){return this.options.template_name||this.name},getTemplate:function(){return this.app.templateAdapter.getTemplate(this.getTemplateName())},nonAttributeOptions:["id","className","tagName"],getAttributes:function(){var e={},t={},n=this.app.modelUtils,r=this.nonAttributeOptions;return this.attributes&&i.extend(e,i.result(this,"attributes")),this.id&&(e.id=i.result(this,"id")),this.className&&(e["class"]=i.result(this,"className")),e["data-view"]=this.name,i.each(this.options,function(t,n){!i.isObject(t)&&!i.include(r,n)&&(e["data-"+n]=t)}),t=a.extractFetchSummary(n,this.options),i.isEmpty(t)||(e["data-fetch_summary"]=JSON.stringify(t)),e},getInnerHtml:function(){var e=this.getTemplate(),t;this._preRender(),t=this.getTemplateData(),t=this.decorateTemplateData(t);if(e==null)throw new Error(this.name+': template "'+this.getTemplateName()+'" not found.');return e(t)},getHtml:function(){var e=this.getInnerHtml(),t=this.getAttributes(),n=i.result(this,"tagName"),r;return r=i.inject(t,function(e,t,n){return e+=" "+n+'="'+i.escape(t)+'"'},""),"<"+n+r+">"+e+"</"+n+">"},render:function(){var e=this.getInnerHtml();return this.$el.html(e),this.$el.attr(this.getAttributes()),this._postRender(),this},fetchLazy:function(){var e={},t,n;if(this.options.fetch_params){if(!i.isObject(this.options.fetch_params))throw new Error("fetch_params must be an object for lazy loaded views");e=this.options.fetch_params}else this.options.param_name&&(e[this.options.param_name]=this.options.param_value);if(this.options.fetch_options){if(!i.isObject(this.options.fetch_options))throw new Error("fetch_options must be an object for lazy loaded views");t=this.options.fetch_options}this.options.model_id!=null&&(e.id=this.options.model_id),this.options.model_name!=null?n={model:{model:this.options.model_name,params:e}}:this.options.collection_name!=null&&(n={collection:{collection:this.options.collection_name,params:e}});if(this.options.fetch_spec){if(!i.isObject(this.options.fetch_spec))throw new Error("fetch_spec must be an object for lazy loaded views");n=this.options.fetch_spec}this.setLoading(!0),this._preRender(),this.app.fetch(n,t,this._fetchLazyCallback.bind(this))},_fetchLazyCallback:function(e,t){this.setLoading(!1),e?this.lazyErrorCallback(e):this.viewing&&(this.parseOptions(t),this.lazyCallback(t))},lazyErrorCallback:function(e){console.log("FETCH ERR: "+e)},lazyCallback:function(e){this.render()},_preRender:function(){this.preRender(),this.trigger("preRender")},_postRender:function(){this.attachChildViews(function(){this.postRender(),this.trigger("postRender")})},preRender:i.noop,postRender:i.noop,setLoading:function(e){this.$el.toggleClass("loading",e),this.trigger("loading",e)},attachOrRender:function(e,t){var n=s.$(e);this.parentView=t,this.viewing=!0;if(this.options.lazy===!0&&this.options.collection==null&&this.options.model==null)return n.attr("data-view-attached",!0),this.setElement(n),this.fetchLazy();n.data("render")?(n.replaceWith(this.$el),this.render()):(n.attr("data-view-attached",!0),this.setElement(n),this.attach())},attach:function(){this._preRender(),this._postRender(),this.trigger("attach")},attachChildViews:function(e){var t=this;this.removeChildViews(),a.getChildViews(this.app,this,function(n){t.childViews=n,e.call(t)})},removeChildViews:function(){(this.childViews||[]).forEach(function(e){e.remove()})},remove:function(){this.parentView&&this.parentView.childViews&&(this.parentView.childViews=i.without(this.parentView.childViews,this)),this.removeChildViews(),this.childViews=null,this.parentView=null,this.viewing=!1;var e=this.model||this.collection;e&&e.off(null,null,this),a.__super__.remove.apply(this,arguments),this.trigger("remove")}}),a.getView=function(t,n,i){var s;n||(n=""),s=n+"app/views/"+t;if(typeof i!="function")return e(s);typeof define!="undefined"?r([s],i):i(e(s))},a.createChildView=function(e,t,n,r,i){if(!n.data("view-attached")){var s=a.attachNewChildView(e,t,n,r);i(null,s)}else i(null,null)},a.getViewOptions=function(e){var t,n=e.data();return i.each(n,function(e,r){if(i.isString(e)){t=i.unescape(e);try{t=JSON.parse(t)}catch(s){}n[r]=t}}),n},a.attachNewChildView=function(e,t,n,r){var i=new e(t);return i.attachOrRender(n,r),i},a.getChildViews=function(e,t,n){var r=t?t.$el:null,u=s.$("[data-view]",r).toArray();o.map(u,function(n,r){var o,u,f,l;o=s.$(n),o.data("view-attached")?r(null,null):(u=a.getViewOptions(o),u.app=e,f=u.view,l=u.fetch_summary||{},e.fetcher.hydrate(l,{app:e},function(n,s){u=i.extend(u,s),a.getView(f,e.options.entryPath,function(e){a.createChildView(e,u,o,t,r)})}))},function(e,t){n(i.compact(t))})},a.parseModelAndCollection=function(e,t){return t.model!=null&&(!(t.model instanceof s.Model)&&t.model_name&&(t.model=e.getModel(t.model_name,t.model,{parse:!!t.parse,app:t.app})),t.model_name=t.model_name||e.modelName(t.model.constructor),t.model_id=t.model.id),t.collection!=null&&(!(t.collection instanceof s.Collection)&&t.collection_name&&(t.collection=e.getCollection(t.collection_name,t.collection,{parse:!!t.parse,app:t.app,params:t.collection_params})),t.collection_name=t.collection_name||e.modelName(t.collection.constructor),t.collection_params=t.collection_params||t.collection.params),t},a.extractFetchSummary=function(e,t){var n={};return i.each(t,function(t,r){var s,o;if(t!=null&&i.isFunction(t.constructor)&&t.constructor.id!=null){o=t.constructor.id;if(e.isModel(t)){s=t.get(t.idAttribute);if(s==null)return;t=s.toString(),n[r]={model:o,id:t};return}if(e.isCollection(t)&&t.params!=null){n[r]={collection:o,params:t.params};return}}}),n},typeof window=="undefined"&&(a.prototype._ensureElement=i.noop,a.prototype.delegateEvents=i.noop)}),define("rendr/client/router",["require","exports","module","underscore","backbone","../shared/base/router","../shared/base/view","jquery"],function(e,t,n){function h(e){this._router=new i.Router,s.apply(this,arguments),this.app=e.app;var t=this.options.appViewClass;this.app.router=this,this.on("route:add",this.addBackboneRoute,this),this.on("action:start",this.trackAction,this),this.app.on("reload",this.renderView,this),this.appView=new t({app:this.app}),this.appView.render(),this.buildRoutes(),this.initialize(e)}var r=e("underscore"),i=e("backbone"),s=e("../shared/base/router"),o=e("../shared/base/view"),u=typeof window=="undefined",a=/:(\w+)/g,f=/\+/g,l=!0,c="";u||(i.$=window.$||e("jquery")),n.exports=h,h.prototype=Object.create(s.prototype),h.prototype.constructor=h,h.prototype.currentFragment=null,h.prototype.previousFragment=null,h.prototype.currentRoute=null,h.prototype._router=null,h.prototype.reverseRoutes=!0,h.prototype.initialize=r.noop,h.prototype.addBackboneRoute=function(e){var t,n,r,i;r=e[0]instanceof RegExp?e[0]:e[0].slice(1),i=e[1],t=e[2],n=i.controller+":"+i.action,this._router.route(r,n,t)},h.prototype.getHandler=function(e,t,n){function s(e,t){e.call(i,t,i.getRenderCallback(n))}var i=this;return function(){var u,a,f;i.trigger("action:start",n,l),i.currentRoute=n;if(l)l=!1,o.getChildViews(i.app,null,function(e){i.currentView=i.getMainView(e),i.trigger("action:end",n,!0)});else{a=r.toArray(arguments),u=i.getParamsHash(t,a,window.location.search),f=i.getRedirect(n,u);if(f!=null)i.redirectTo(f,{replace:!0});else{if(!e)throw new Error('Missing action "'+n.action+'" for controller "'+n.controller+'"');s(e,u)}}}},h.prototype.getMainView=function(e){var t=this.appView.$content;return r.find(e,function(e){return e.$el.parent().is(t)})},h.prototype.navigate=function(e,t){var n=i.history.getFragment(e);this.matchesAnyRoute(n)?this._router.navigate.apply(this._router,arguments):this.redirectTo(n,{pushState:!1})},h.prototype.getParamsHash=function(e,t,n){var i,s,o;return e instanceof RegExp?i=t.map(function(e,t){return String(t)}):i=(e.match(a)||[]).map(function(e){return e.slice(1)}),s=(i||[]).reduce(function(e,n,r){return e[n]=decodeURIComponent(t[r]),e},{}),o=n.slice(1).split("&").reduce(function(e,t){var n=t.split("=");return n.length>1&&(e[n[0]]=decodeURIComponent(n[1].replace(f," "))),e},{}),r.extend(o,s)},h.prototype.matchingRoute=function(e){return r.find(i.history.handlers,function(t){return t.route.test(e)})},h.prototype.matchesAnyRoute=function(e){return this.matchingRoute(e)!=null},h.prototype.redirectTo=function(e,t){var n;t==null&&(t={}),r.defaults(t,{trigger:!0,pushState:!0,replace:!1}),t.pushState===!1?this.exitApp(e):(n=e.split("#"),e=n[0],n.length>1&&this.once("action:end",function(){window.location.hash=n[1]}),this.navigate(e,t))},h.prototype.exitApp=function(e){var t=this.noRelativePath(e);window.location.href=t},h.prototype.noRelativePath=function(e){return/^[a-z]+:/i.test(e)===!1&&e.charAt(0)!=="/"&&(e="/"+e),e},h.prototype.handleErr=function(e,t){this.trigger("action:error",e,t)},h.prototype.getRenderCallback=function(e){return function(t,n,i){if(t)return this.handleErr(t,e);var s,u=this;this.currentView&&this.currentView.remove();var a=this.defaultHandlerParams(n,i,e);n=a[0],i=a[1],i=i||{},r.extend(i,{fetch_summary:o.extractFetchSummary(this.app.modelUtils,i)}),i.app=this.app,this.getView(n,this.options.entryPath,function(t){u.currentView=new t(i),u.renderView(),u.trigger("action:end",e,l)})}.bind(this)},h.prototype.renderView=function(){this.appView.setCurrentView(this.currentView)},h.prototype.start=function(){i.history.start({pushState:!0,hashChange:!1,root:this.options.rootPath||c})},h.prototype.trackAction=function(){this.previousFragment=this.currentFragment,this.currentFragment=i.history.getFragment()},h.prototype.getView=function(e,t,n){var i=o.getView(e,t,function(t){if(!r.isFunction(t))throw new Error("View '"+e+"' not found.");n(t)})}}),define("rendr/client",["rendr/client/router"],function(e){return e}),define("app/router",["rendr/client/router"],function(e){}),define("rendr/client/app_view",["require","exports","module","underscore","backbone","../shared/base/view","jquery"],function(e,t,n){var r=e("underscore"),i=e("backbone"),s=e("../shared/base/view"),o=typeof window=="undefined";o||(i.$=window.$||e("jquery")),n.exports=s.extend({el:"body",constructor:function(){s.apply(this,arguments),r.defaults(this.options,{contentEl:"#content"}),this.$content=i.$(this.options.contentEl),this._bindInterceptClick()},hasPushState:typeof window!="undefined"&&window.history.pushState!=null,render:function(){},setCurrentView:function(e){this.$content.html(e.el),e.render()},_bindInterceptClick:function(){this.$el.on("click","a:not([data-pass-thru])",this._interceptClick.bind(this))},_interceptClick:function(e){var t=i.$(e.currentTarget).attr("href");this.shouldInterceptClick(t,e.currentTarget,e)&&(e.preventDefault(),this.app.router.redirectTo(t))},shouldInterceptClick:function(e,t,n){var r,i;return!e||!this.hasPushState||n.metaKey||n.shiftKey?!1:(r=e.split("#"),i=r.length>1&&r[0]===window.location.pathname,!i&&e.slice(0,1)==="/"&&e.slice(0,2)!=="//")}})}),define("rendr/shared/app",["require","exports","module","backbone","underscore","./fetcher","./modelUtils","app/router","jquery","../client/app_view"],function(e,t,n){var r=e("backbone"),i=e("underscore"),s=e("./fetcher"),o=e("./modelUtils"),u=typeof window=="undefined",a;u||(a=e("app/router"),r.$=window.$||e("jquery")),n.exports=r.Model.extend({defaults:{loading:!1,templateEngine:"handlebars",templateAdapter:"rendr-handlebars"},templateAdapter:undefined,req:undefined,modelUtils:undefined,fetcher:undefined,constructor:function(e,t){e=e||{},this.options=t||{};var n=this.options.entryPath||"";u||(n=""),this.modelUtils=this.options.modelUtils||new o(n),this.options.req&&(this.req=this.options.req),this.initializeTemplateAdapter(n,e),this.fetcher=new s({app:this}),u||(this.options.ClientRouter&&(a=this.options.ClientRouter),new a({app:this,entryPath:n,appViewClass:this.getAppViewClass(),rootPath:e.rootPath})),r.Model.apply(this,arguments)},initializeTemplateAdapter:function(t,n){if(this.options.templateAdapterInstance)this.templateAdapter=this.options.templateAdapterInstance;else{var r=n.templateAdapter||this.defaults.templateAdapter,i={entryPath:t},s=e(n.templateEngine||this.defaults.templateEngine);i=this.setTemplateFinder(i),this.templateAdapter=e(r)(i,s)}},getTemplateFinder:i.noop,setTemplateFinder:function(e){return i.isFunction(this.getTemplateFinder)&&this.getTemplateFinder!==i.noop&&(e.templateFinder=this.getTemplateFinder()),e},fetch:function(){this.fetcher.fetch.apply(this.fetcher,arguments)},getAppViewClass:function(){return e("../client/app_view")},bootstrapData:function(e,t){this.fetcher.bootstrapData(e,t)},start:function(){this.router.start(),this.trigger("start")}})}),define("rendr/shared",["rendr/shared/app"],function(e){return e}),define("deeply/mutable",["require","exports","module"],function(e,t,n){function r(){var e,t,n=Array.prototype.slice.call(arguments),s=n.shift(),o=typeof n[n.length-1]=="function"?n.pop():undefined;while(e=n.shift())for(t in e){if(!e.hasOwnProperty(t))continue;typeof e[t]=="object"&&i(e[t])=="object"?s[t]=r(s[t]||{},e[t],o):o&&Array.isArray(e[t])?s[t]=o(s[t]||[],Array.prototype.slice.call(e[t])):s[t]=e[t]}return s}function i(e){return Object.prototype.toString.call(e).match(/\[object\s*([^\]]+)\]/)[1].toLowerCase()}n.exports=r}),define("deeply/immutable",["require","exports","module","./mutable.js"],function(e,t,n){function i(){var e=Array.prototype.slice.call(arguments,0);return r.apply(this,[{}].concat(e))}var r=e("./mutable.js");n.exports=i}),define("deeply/index",["require","exports","module","./mutable.js","./immutable.js"],function(e,t,n){var r=e("./mutable.js"),i=e("./immutable.js");n.exports=i,n.exports.mutable=r,n.exports.immutable=i}),define("deeply",["deeply/index"],function(e){return e}),function(e,t){"use strict";var n=function(e,t){return new n.Instance(e,t||{})};e.Hammer=n}(this),define("hammer",function(){}),function(e,t){"use strict";function n(e,t){t.fn.hammer=function(n){return this.each(function(){var r=t(this),i=r.data("hammer");i?i&&n&&e.utils.extend(i.options,n):r.data("hammer",new e(this,n||{}))})}}}(this),define("jqueryHammer",function(){}),define("app/helper",["underscore","async"],function(e,t){}),define("app/lib/tracking/custom",["underscore"],function(e){var t={track:function(){return"some custom tracking code"}};return t}),define("app/models/user/user",["app/lib/tracking/custom"],function(e){}),define("main",["require","underscore","backbone","rendr/shared/app","app/helper","app/models/user/user","app/lib/tracking/pixel"],function(e,t,n,r,i,s,o){}),define("common",function(){}),require(["jqueryHammer"]);